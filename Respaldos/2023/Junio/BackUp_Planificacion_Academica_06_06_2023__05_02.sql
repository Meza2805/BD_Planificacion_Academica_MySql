-- MySQL dump 10.13  Distrib 8.0.33, for Win64 (x86_64)
--
-- Host: localhost    Database: planificacion_academica
-- ------------------------------------------------------
-- Server version	8.0.33

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `actividad`
--

DROP TABLE IF EXISTS `actividad`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `actividad` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(1800) NOT NULL,
  `PROTAGONISTA` text NOT NULL,
  `META_ANUAL` int DEFAULT NULL,
  `METRA_TRIMESTRAL` int DEFAULT NULL,
  `PARTICIPANTES_F` int DEFAULT NULL,
  `PARTICIPANTES_M` int DEFAULT NULL,
  `DIFICULTADES` text,
  `ALERTAS` text,
  `PROPUESTA` text,
  `OBSERVACION` text,
  `ESTADO` bit(1) DEFAULT NULL,
  `CEDULA_PERSONAL` char(18) DEFAULT NULL,
  `FECHA_REGISTRO` date NOT NULL,
  `MEDIDA01` text,
  `MEDIDA02` text,
  `MEDIDA03` text,
  `MEDIDA04` text,
  `MEDIDA05` text,
  `CU01` text,
  `CU02` text,
  `CU03` text,
  `CU04` text,
  `CU05` text,
  PRIMARY KEY (`ID`),
  KEY `FK_PERSONAL_ACTIVIDAD` (`CEDULA_PERSONAL`),
  CONSTRAINT `FK_PERSONAL_ACTIVIDAD` FOREIGN KEY (`CEDULA_PERSONAL`) REFERENCES `personal` (`CEDULA`)
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `actividad`
--

LOCK TABLES `actividad` WRITE;
/*!40000 ALTER TABLE `actividad` DISABLE KEYS */;
INSERT INTO `actividad` VALUES (1,'DESCRIPCION DE PRUEBA','40 CENTROS EDUCATIVOS REALIZANDO FESTIVALES DE ORATORIA',40,30,20,10,'A PESAR QUE SE HA AVANZADO EN UN 75%, EL RESULTADO NO ES SATISFACTORIO, DEBIDO A QUE \n NO CONTABAN CON LA NORMATIVA PARA REALIZAR LOS FESTIVALES DE ORATORIA.','LAS CIRCULARES \n ENVIADAS POR INFOMINED EL DESTINO FINAL SON LAS DELEGACIONES DEPARTAMENTALES LO QUE REQUIERE OTRO TIEMPO PARA QUE \n LLEGUE HASTA LOS CENTROS EDUCATIVOS.','Las circulares enviadas por INFOMINED incluya como destino final las delegaciones\n municipales que estan m√°s cerca de los centros educativos.','',_binary '','001-070984-0031F','2022-11-20','CUANDO SE REALIZARA','CON ESTUDIANTES DE \n PRIMARIA Y SECUNDARIA DE LAS ESCUELAS QUE NO REALIZARON LA ACTIVIDAD','10 CENTROS EDUCATIVOS','ORGANIZADOS A \n LA HORA DE RECESO O EN DEPORTE ESCOLAR','EN CADA UNA DE LAS 10 ESCUELAS DEL MUNICIPIO DE MASAYA','FESTIVALES DE ORATORIA',' CON ESTUDIANTES DE PRIMARIA, SECUNDARIA DOCENTES Y DIRCTORES DE 30 CENTROS \nEDUCATIVOS DEL MUNICIPIO DE MASAYA','SOBRE FALACIAS L√ìGICAS Y ARGUMENTATIVAS, COMO DEBATES, DISCURSOS, \nCONVERSACI√ìN Y ENTREVISTAS','PROMUEVEN LA EXPRESI√ìN ORAL EN LOS ESTUDIANTES',' ESTAS ACTIVIDADES HAN MOTIVADO\n A OTROS ESTUDIANTES A INVOLUCRARSE A LAS ACTIVIDADES DE EXPRESION ORAL, EVIDENCIANDO LO EXTROVERTIDO DE LOS\n NI√ëOS,NI√ëAS Y JOVENES'),(2,'DECLAMACION DE POEMAS EN PROZA POR PARTE DE LOS ESTUDIANTES','DOCENTES DE PRIMARIA INTEGRADOS EN CURSOS DE PROFESIONALIZACI√ìN EN ESCUELAS NORMALES DEL PAIS.',35,40,10,10,'A PESAR QUE SE HA AVANZADO EN UN 75%, EL RESULTADO NO ES SATISFACTORIO, DEBIDO A QUE NO CONTABAN CON LA NORMATIVA PARA REALIZAR LOS FESTIVALES DE ORATORIA.','CVB','propusta','NINGUNA',_binary '','001-070984-0031F','2022-11-20','UNDEFINED','ESTUDIANTES DE PRIMARIA Y SECUNDARIA','20 CENTROS EDUCATIVOS','ORGANIZADOS A LA HORA DE RECESO','CENTRO DE ESTUDIO','SE REALIZARON LOS FESTIVALES DE ORATORIA EN 30 CENTROS EDUCATIVOS DEL MUNICIPIO DE MASAYA, CON ESTUDIANTES DE PRIMARIA','CON ESTUDIANTES DE PRIMARIA',' SECUNDARIA, DOCENTES Y DIRECTORES','SOBRE FALACIAS L√ìGICAS Y ARGUMENTATIVAS, COMO DEBATES, \n DISCURSOS, CONVERSACI√ìN Y ENTREVISTAS QUE PROMUEVEN LA EXPRESI√ìN ORAL EN LOS ESTUDIANTES.','ESTAS ACTIVIDADES HAN MOTIVADO A OTROS \n ESTUDIANTES A INVOLUCRARSE A LAS ACTIVIDADES DE EXPRESION ORAL, EVIDENCIANDO LO EXTROVERTIDO DE LOS NI√ëOS,NI√ëAS Y JOVENES.'),(3,'DESCRIPCION DE PRUEBA 0333','40 CENTROS EDUCATIVOS REALIZANDO FESTIVALES DE ORATORIA',40,30,20,10,'A PESAR QUE SE HA AVANZADO EN UN 75%, EL RESULTADO NO ES SATISFACTORIO, DEBIDO A QUE \n NO CONTABAN CON LA NORMATIVA PARA REALIZAR LOS FESTIVALES DE ORATORIA.','LAS CIRCULARES \n ENVIADAS POR INFOMINED EL DESTINO FINAL SON LAS DELEGACIONES DEPARTAMENTALES LO QUE REQUIERE OTRO TIEMPO PARA QUE \n LLEGUE HASTA LOS CENTROS EDUCATIVOS.','LAS CIRCULARES \n ENVIADAS POR INFOMINED EL DESTINO FINAL SON LAS DELEGACIONES DEPARTAMENTALES LO QUE REQUIERE OTRO TIEMPO PARA QUE \n LLEGUE HASTA LOS CENTROS EDUCATIVOS.','',_binary '','001-070984-0031F','2022-11-20','UNDEFINED','CON ESTUDIANTES DE \n PRIMARIA Y SECUNDARIA DE LAS ESCUELAS QUE NO REALIZARON LA ACTIVIDAD','10 CENTROS EDUCATIVOS','ORGANIZADOS A \n LA HORA DE RECESO O EN DEPORTE ESCOLAR','EN CADA UNA DE LAS 10 ESCUELAS DEL MUNICIPIO DE MASAYA','FESTIVALES DE ORATORIA',' CON ESTUDIANTES DE PRIMARIA, SECUNDARIA DOCENTES Y DIRCTORES DE 30 CENTROS \nEDUCATIVOS DEL MUNICIPIO DE MASAYA','SOBRE FALACIAS L√ìGICAS Y ARGUMENTATIVAS, COMO DEBATES, DISCURSOS, \nCONVERSACI√ìN Y ENTREVISTAS','PROMUEVEN LA EXPRESI√ìN ORAL EN LOS ESTUDIANTES',' ESTAS ACTIVIDADES HAN MOTIVADO\n A OTROS ESTUDIANTES A INVOLUCRARSE A LAS ACTIVIDADES DE EXPRESION ORAL, EVIDENCIANDO LO EXTROVERTIDO DE LOS\n NI√ëOS,NI√ëAS Y JOVENES'),(4,'IMPLEMENTAR EL PROGRAMA NACIONAL ORIENTADO A FORTALECER \nCOMPETENCIAS FUNDAMENTALES VERIFICABLES EN: APRENDIZAJE AMIGABLE DE LAS MATEM√ÅTICAS PARA LA RESOLUCI√ìN DE PROBLEMAS;\n EL H√ÅBITO, DISFRUTE DE LA LECTURA Y COMPRENSI√ìN LECTORA; DOMINIO DEL M√âTODO CIENT√çFICO, COHERENTE CON EST√ÅNDARES CURRICULARES\n Y METODOLOG√çAS ACORDES A CADA NIVEL EDUCATIVO QUE CONTRIBUYA A √ÅREAS VITALES PARA LA CALIDAD EDUCATIVA.','DOCENTES DE PRIMARIA INTEGRADOS EN CURSOS DE PROFESIONALIZACI√ìN EN ESCUELAS NORMALES DEL PAIS.',40,30,8,9,'A PESAR QUE SE HA AVANZADO EN UN 75%, EL RESULTADO NO ES SATISFACTORIO, DEBIDO A QUE NO CONTABAN CON LA NORMATIVA PARA REALIZAR LOS FESTIVALES DE ORATORIA.','NINGUNA','','NINGUNA',_binary '','001-070984-0031F','2022-11-20','UNDEFINED','ESTUDIANTES DE PRIMARIA Y SECUNDARIA','20 CENTROS EDUCATIVOS','ORGANIZADOS A LA HORA DE RECESO','CENTRO DE ESTUDIO','SE REALIZARON LOS FESTIVALES DE ORATORIA EN 30 CENTROS EDUCATIVOS DEL MUNICIPIO DE MASAYA, CON ESTUDIANTES DE PRIMARIA','CON ESTUDIANTES DE PRIMARIA',' SECUNDARIA, DOCENTES Y DIRECTORES','SOBRE FALACIAS L√ìGICAS Y ARGUMENTATIVAS, COMO DEBATES, \n DISCURSOS, CONVERSACI√ìN Y ENTREVISTAS QUE PROMUEVEN LA EXPRESI√ìN ORAL EN LOS ESTUDIANTES.','ESTAS ACTIVIDADES HAN MOTIVADO A OTROS \n ESTUDIANTES A INVOLUCRARSE A LAS ACTIVIDADES DE EXPRESION ORAL, EVIDENCIANDO LO EXTROVERTIDO DE LOS NI√ëOS,NI√ëAS Y JOVENES.'),(5,'TALLER DE ESCRITURA Y LECTURA PARA ESTUDIANTES DE PRIMARIA DE SEXTO GRADO','ESTUDIANTES DE SEXTO GRADO',10,5,1,1,'1','1','1','1',_binary '','001-070984-0031F','2022-11-21','UNDEFINED','1','1','1','1','1','1','1','1','1'),(6,'ACTIVIDAD DE PRUEBA PARA DOCENTES DE CARRERAS TECNICAS','PRUEBA',12,34,2,2,'NINGUNA','NINGUNDA','NINGUNDA','NINGUNA',_binary '','001-070984-0031F','2023-01-28','UNDEFINED','ESTUDIANTES','DOCE DE DELLOS','CORRIENDO','SU CASA','NADA','NADA','NADA','NO SABEMOS','NINGUNO'),(7,'CONCURSO DE MATEM√ÅTICAS PARA ESTUDIANTES DE DECIMO Y UND√âCIMO GRADO','AS',12,123,12,12,'M','M','M','M',_binary '','001-070984-0031F','2023-01-30','UNDEFINED','M','M','M','M','MUCHO','MUCHO','MUCHO','MUCHO','MUCHO'),(8,'TALLER DE ESTUDIO PARA J√ìVENES TALENTOS','AS',100,99,2,43,'AS','AS','AS','AS',_binary '','001-070984-0031F','2023-01-30','UNDEFINED','AS','AS','AS','AS','AS','AS','AS','AS','AS'),(9,'CONCURSO DE AJEDRES','ASD',120,34,23,4,'ASD','SDF','SDF','ASD',_binary '','001-070984-0031F','2023-01-30','UNDEFINED','SDFD','SDF','SDF','DFG','AS','ASD','FDG','DFSD','SDF'),(10,'ORATORIA PARA LOS CENTROS DE LA MODALIDA DE SECUNDARIA','ESTUDIANTES DE SEPTIMO, OCTAVO Y NOVENO GRADO',100,50,20,15,'NINGUNA','NINGUNA','NINGUNA','NINGUNA',_binary '','001-070984-0031F','2023-02-09','25 DE DICIEMBRE','ESTUDIANTES, DOCENTES Y PADRES DE FAMILIA','15','ORATORIA','CENTROS DE ESTUDIO','ORATORIO','25 ESTUDIANTES DE SECUNDARIA','SOBRE LA ORATORIA QUE SE PRETENDE REALIZAR','PARA FORTALECER EL VINCULO DE LOS ESTUDIANTES CON LA LITERATURA','POSITIVO'),(11,'CELEBRACI√ìN DEL PADRE DEL MODERNISMO RUB√âN DIARIO','ESTUDIANTES DE TODAS LAS MODALIDADES',50,25,10,15,'....','...','...','....',_binary '','001-070984-0031F','2023-02-10','UNDEFINED','...','...','...','....','LECTURA','25 ESTUDIANTES','MODERNISMO','...','...'),(12,'SAD','ASDA',10,4,2,2,'√ëLK','√ëL','√ëL','K√ëL',_binary '','001-070984-0031F','2023-03-28','KL√ëL','√ëLK','√ëLK','√ëLK','√ëLK','√ëLK√ëL','K√ëLK','√ëLK√ëL','√ëLK√ëL','√ëLK'),(13,'1. IMPLEMENTAR EL PROGRAMA NACIONAL ORIENTADO A FORTALECER \nCOMPETENCIAS FUNDAMENTALES VERIFICABLES EN: APRENDIZAJE AMIGABLE DE LAS MATEM√ÅTICAS PARA LA RESOLUCI√ìN DE PROBLEMAS;\n EL H√ÅBITO, DISFRUTE DE LA LECTURA Y COMPRENSI√ìN LECTORA; DOMINIO DEL M√âTODO CIENT√çFICO, COHERENTE CON EST√ÅNDARES CURRICULARES\n Y METODOLOG√çAS ACORDES A CADA NIVEL EDUCATIVO QUE CONTRIBUYA A √ÅREAS VITALES PARA LA CALIDAD EDUCATIVA.','DOCENTES DE PRIMARIA INTEGRADOS EN CURSOS DE PROFESIONALIZACI√ìN EN ESCUELAS NORMALES DEL PAIS.',60,30,5,20,'A PESAR QUE SE HA AVANZADO EN UN 75%, EL RESULTADO NO ES SATISFACTORIO, DEBIDO A QUE NO CONTABAN CON LA NORMATIVA PARA REALIZAR LOS FESTIVALES DE ORATORIA.','','','',_binary '','001-070984-0031F','2023-04-05','18 DE MAYO','ESTUDIANTES DE PRIMARIA Y SECUNDARIA','20 CENTROS EDUCATIVOS','ORGANIZADOS A LA HORA DE RECESO','CENTRO DE ESTUDIO','SE REALIZARON LOS FESTIVALES DE ORATORIA EN 30 CENTROS EDUCATIVOS DEL MUNICIPIO DE MASAYA, CON ESTUDIANTES DE PRIMARIA','CON ESTUDIANTES DE PRIMARIA',' SECUNDARIA, DOCENTES Y DIRECTORES','SOBRE FALACIAS L√ìGICAS Y ARGUMENTATIVAS, COMO DEBATES, \n DISCURSOS, CONVERSACI√ìN Y ENTREVISTAS QUE PROMUEVEN LA EXPRESI√ìN ORAL EN LOS ESTUDIANTES.','ESTAS ACTIVIDADES HAN MOTIVADO A OTROS \n ESTUDIANTES A INVOLUCRARSE A LAS ACTIVIDADES DE EXPRESION ORAL, EVIDENCIANDO LO EXTROVERTIDO DE LOS NI√ëOS,NI√ëAS Y JOVENES.'),(14,'AS78','AS',100,50,10,10,'LJK','LKJ','lkj','LJK',_binary '','001-070984-0031F','2023-04-05','UNDEFINED','KKL','KLJ','KLJ','LJ','AS','AS','AS','ASD','ASD'),(15,'DESCRIPCION DE PRUEBA','40 CENTROS EDUCATIVOS REALIZANDO FESTIVALES DE ORATORIA',40,30,20,10,'A PESAR QUE SE HA AVANZADO EN UN 75%, EL RESULTADO NO ES SATISFACTORIO, DEBIDO A QUE \n NO CONTABAN CON LA NORMATIVA PARA REALIZAR LOS FESTIVALES DE ORATORIA.','LAS CIRCULARES \n ENVIADAS POR INFOMINED EL DESTINO FINAL SON LAS DELEGACIONES DEPARTAMENTALES LO QUE REQUIERE OTRO TIEMPO PARA QUE \n LLEGUE HASTA LOS CENTROS EDUCATIVOS.','Las circulares enviadas por INFOMINED incluya como destino final las delegaciones\n municipales que estan m√°s cerca de los centros educativos.','',_binary '','001-070984-0031F','2023-04-05','UNDEFINED','CON ESTUDIANTES DE \n PRIMARIA Y SECUNDARIA DE LAS ESCUELAS QUE NO REALIZARON LA ACTIVIDAD','10 CENTROS EDUCATIVOS','ORGANIZADOS A \n LA HORA DE RECESO O EN DEPORTE ESCOLAR','EN CADA UNA DE LAS 10 ESCUELAS DEL MUNICIPIO DE MASAYA','FESTIVALES DE ORATORIA',' CON ESTUDIANTES DE PRIMARIA, SECUNDARIA DOCENTES Y DIRCTORES DE 30 CENTROS \nEDUCATIVOS DEL MUNICIPIO DE MASAYA','SOBRE FALACIAS L√ìGICAS Y ARGUMENTATIVAS, COMO DEBATES, DISCURSOS, \nCONVERSACI√ìN Y ENTREVISTAS','PROMUEVEN LA EXPRESI√ìN ORAL EN LOS ESTUDIANTES',' ESTAS ACTIVIDADES HAN MOTIVADO\n A OTROS ESTUDIANTES A INVOLUCRARSE A LAS ACTIVIDADES DE EXPRESION ORAL, EVIDENCIANDO LO EXTROVERTIDO DE LOS\n NI√ëOS,NI√ëAS Y JOVENES'),(16,'AS','AS',100,50,10,10,'LJK','LKJ','lkj','LJK',_binary '','001-070984-0031F','2023-04-05','ASD','KKL','KLJ','KLJ','LJ','AS','AS','AS','ASD','ASD'),(17,'AS','AS',100,50,10,10,'LJK','LKJ','lkj','LJK',_binary '','001-070984-0031F','2023-04-05','ASD','KKL','KLJ','KLJ','LJ','AS','AS','AS','ASD','ASD'),(18,'AS','AS',100,50,10,10,'LJK','LKJ','lkj','LJK',_binary '','001-070984-0031F','2023-04-05','ASD','KKL','KLJ','KLJ','LJ','AS','AS','AS','ASD','ASD'),(19,'AS','AS',100,50,10,10,'LJK','LKJ','lkj','LJK',_binary '','001-070984-0031F','2023-04-05','ASD','KKL','KLJ','KLJ','LJ','AS','AS','AS','ASD','ASD'),(20,'AS','AS',100,50,10,10,'LJK','LKJ','lkj','LJK',_binary '\0','001-070984-0031F','2023-04-05','ASD','KKL','KLJ','KLJ','LJ','AS','AS','AS','ASD','ASD'),(21,'AS','AS',100,50,10,10,'LJK','LKJ','lkj','LJK',_binary '\0','001-070984-0031F','2023-04-05','ASD','KKL','KLJ','KLJ','LJ','AS','AS','AS','ASD','ASD'),(22,'AS','ASD',100,50,10,10,'JL','KLK','jl','KJL',_binary '','001-070984-0031F','2023-04-05','JLK','JLK','JLK','JKL','JLK','KJ','LKJ','LKJ','LK','JLK'),(23,'AS','ASD',100,50,10,10,'JL','KLK','jl','KJL',_binary '\0','001-070984-0031F','2023-04-05','JLK','JLK','JLK','JKL','JLK','KJ','LKJ','LKJ','LK','JLK'),(24,'LINEA DE ACCCION DE PRUEBA','PROBANDO',1000,50,10,10,'LKN','LKN','lkn','LKN',_binary '\0','001-070984-0031F','2023-04-05','LKN','LKN','LKN','LKN','LKN','AS','ASD','OPI','JKLNM','LKN'),(25,'PRUEBA 5 DE ABRIL','ASD',1000,100,20,10,'L;','L;','l;',';LK',_binary '\0','001-070984-0031F','2023-04-05',';LK','L;K','L;',';LK','L;','L;M,','L;K','L;K','L;K','LK'),(26,'IMPLEMENTAR EL PROGRAMA NACIONAL ORIENTADO A FORTALECER \nCOMPETENCIAS FUNDAMENTALES VERIFICABLES EN: APRENDIZAJE AMIGABLE DE LAS MATEM√ÅTICAS PARA LA RESOLUCI√ìN DE PROBLEMAS;\n EL H√ÅBITO, DISFRUTE DE LA LECTURA Y COMPRENSI√ìN LECTORA; DOMINIO DEL M√âTODO CIENT√çFICO, COHERENTE CON EST√ÅNDARES CURRICULARES\n Y METODOLOG√çAS ACORDES A CADA NIVEL EDUCATIVO QUE CONTRIBUYA A √ÅREAS VITALES PARA LA CALIDAD EDUCATIVA.','DOCENTES DE PRIMARIA INTEGRADOS EN CURSOS DE PROFESIONALIZACI√ìN EN ESCUELAS NORMALES DEL PAIS.',60,30,5,20,'A PESAR QUE SE HA AVANZADO EN UN 75%, EL RESULTADO NO ES SATISFACTORIO, DEBIDO A QUE NO CONTABAN CON LA NORMATIVA PARA REALIZAR LOS FESTIVALES DE ORATORIA.','SITUACIONES','propuesta','NINGUNA MEZA ACA ESTOY',_binary '\0','001-070984-0031F','2023-04-05','UNDEFINED','ESTUDIANTES DE PRIMARIA Y SECUNDARIA','20 CENTROS EDUCATIVOS','ORGANIZADOS A LA HORA DE RECESO','CENTRO DE ESTUDIO','SE REALIZARON LOS FESTIVALES DE ORATORIA EN 30 CENTROS EDUCATIVOS DEL MUNICIPIO DE MASAYA, CON ESTUDIANTES DE PRIMARIA','CON ESTUDIANTES DE PRIMARIA',' SECUNDARIA, DOCENTES Y DIRECTORES','SOBRE FALACIAS L√ìGICAS Y ARGUMENTATIVAS, COMO DEBATES, \n DISCURSOS, CONVERSACI√ìN Y ENTREVISTAS QUE PROMUEVEN LA EXPRESI√ìN ORAL EN LOS ESTUDIANTES.','ESTAS ACTIVIDADES HAN MOTIVADO A OTROS \n ESTUDIANTES A INVOLUCRARSE A LAS ACTIVIDADES DE EXPRESION ORAL, EVIDENCIANDO LO EXTROVERTIDO DE LOS NI√ëOS,NI√ëAS Y JOVENES.'),(27,'PRUEBA 5 ABRIL 02','ASD',1000,74,5,5,'KLN','LKN','kln','KLN',_binary '\0','001-070984-0031F','2023-04-05','LKN','LKN','LKN','KLN','LKN','KN','LKN','KLN','LKN','LKN'),(28,'LINEA DE ACCION','DESCRIPCION DE PROTAGONISTAS',100,50,10,10,'PRINCIPALES DIFICULTADDES','SITUACIONES EN ESTADO DE ALERTA','propuesta de toma de decisiones','OBSERVACIONES',_binary '','001-070984-0031F','2023-04-08','CUANDO SE REALIZARA','CON QUIENES','CUANTOS','COMO','DONDE','QUE SE HIZO','CON CUANTOS Y QUIENES FUERON LOS PROTAGONISTAS','SOBRE QUE','PARA QUE SE HIZO O CUAL FUE EL RESULTADO','CUAL ES EL IMPACTO DEL RESULTADO');
/*!40000 ALTER TABLE `actividad` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `asignatura`
--

DROP TABLE IF EXISTS `asignatura`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `asignatura` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(45) NOT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  `ESTADO_A` bit(1) DEFAULT b'1',
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `asignatura`
--

LOCK TABLES `asignatura` WRITE;
/*!40000 ALTER TABLE `asignatura` DISABLE KEYS */;
INSERT INTO `asignatura` VALUES (1,'LENGUA Y LITERATURA',_binary '',_binary ''),(2,'MATEMATICAS',_binary '',_binary ''),(3,'APRENDER A EMPRENDER Y PROSPERAR',_binary '',_binary ''),(4,'CIENCIAS SOCIALES',_binary '',_binary ''),(5,'CIENCIAS NATURALES',_binary '',_binary ''),(6,'EDUCACION FISICA Y PRACTICA DEPORTIVA',_binary '',_binary ''),(7,'DERECHOS Y DIGNIDAD DE LA MUJER',_binary '',_binary ''),(8,'FISICA',_binary '',_binary ''),(9,'QUIMICA',_binary '',_binary ''),(10,'BIOLOGIA',_binary '\0',_binary ''),(11,'CRECIENDO EN VALORES',_binary '',_binary ''),(12,'EDUCACION PARA APRENDER, EMPREDER Y PROSPERAR',_binary '',_binary ''),(13,'TALLER DE ARTE Y CULTURA',_binary '',_binary ''),(14,'LENGUA EXTRANJERA (INGLES)',_binary '',_binary ''),(15,'HISTORIA',_binary '\0',_binary ''),(16,'ASIGNATURA DE PRUEBA 02',_binary '\0',_binary '\0'),(17,'ECONOMIA',_binary '\0',_binary ''),(18,'ESTADISTICAS',_binary '\0',_binary ''),(19,'LENGUA EXTRANJERA (FRANCES)',_binary '\0',_binary ''),(20,'TERMODINAMICA',_binary '\0',_binary '\0'),(21,'ANALISIS',_binary '\0',_binary ''),(22,'PROBANDO7485',_binary '\0',_binary ''),(23,'POO',_binary '\0',_binary '\0'),(24,'PERRORS',_binary '\0',_binary '\0'),(25,'ADMINISTRADORES',_binary '\0',_binary ''),(26,'XD',_binary '\0',_binary '\0'),(27,'DISE√ëO DE REDES 3',_binary '\0',_binary ''),(28,'DISE√ëO DE REDES 04',_binary '\0',_binary ''),(29,'DISE√ëO DE REDES 08',_binary '\0',_binary '\0'),(30,'GATITOS',_binary '\0',_binary ''),(31,'ASIGNATURA NO REGISTRADA',_binary '\0',_binary '');
/*!40000 ALTER TABLE `asignatura` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `asignatura_modalidad`
--

DROP TABLE IF EXISTS `asignatura_modalidad`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `asignatura_modalidad` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `ID_ASIGNATURA` int DEFAULT NULL,
  `ID_MODALIDAD` int DEFAULT NULL,
  `ESTADO_AM` bit(1) DEFAULT b'1',
  PRIMARY KEY (`ID`),
  KEY `FK_ASIGNATURA_AM` (`ID_ASIGNATURA`),
  KEY `FK_MODALIDAD_AM` (`ID_MODALIDAD`),
  CONSTRAINT `FK_ASIGNATURA_AM` FOREIGN KEY (`ID_ASIGNATURA`) REFERENCES `asignatura` (`ID`),
  CONSTRAINT `FK_MODALIDAD_AM` FOREIGN KEY (`ID_MODALIDAD`) REFERENCES `modalidad` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `asignatura_modalidad`
--

LOCK TABLES `asignatura_modalidad` WRITE;
/*!40000 ALTER TABLE `asignatura_modalidad` DISABLE KEYS */;
INSERT INTO `asignatura_modalidad` VALUES (1,1,6,_binary ''),(2,1,4,_binary ''),(3,2,6,_binary ''),(4,2,4,_binary ''),(5,3,6,_binary ''),(6,3,4,_binary ''),(7,4,6,_binary ''),(8,4,4,_binary ''),(9,5,6,_binary ''),(10,5,4,_binary ''),(11,6,6,_binary ''),(12,6,4,_binary ''),(13,7,4,_binary ''),(14,8,6,_binary ''),(15,9,6,_binary ''),(16,10,6,_binary ''),(17,11,4,_binary ''),(18,11,6,_binary ''),(19,12,4,_binary ''),(20,12,6,_binary ''),(21,13,4,_binary ''),(23,14,4,_binary '\0'),(24,14,6,_binary '\0'),(25,15,6,_binary ''),(26,1,11,_binary '\0'),(27,19,6,_binary ''),(28,19,8,_binary ''),(29,8,7,_binary ''),(30,19,10,_binary ''),(33,8,10,_binary ''),(34,3,43,_binary ''),(35,18,10,_binary ''),(36,18,8,_binary ''),(37,1,9,_binary '');
/*!40000 ALTER TABLE `asignatura_modalidad` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `bloque_clase`
--

DROP TABLE IF EXISTS `bloque_clase`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `bloque_clase` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `ID_GRUPO` int NOT NULL,
  `CEDULA_DOCENTE` char(18) DEFAULT NULL,
  `ID_ASIGNATURA` int DEFAULT NULL,
  `ID_DIA` int DEFAULT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  `ID_BLOQUE` int NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_BC_ASIGNATURA` (`ID_ASIGNATURA`),
  KEY `FK_DOCENTE_BLOQUE` (`CEDULA_DOCENTE`),
  KEY `FK_BC_GRADO` (`ID_GRUPO`),
  KEY `FK_Dia_bloque` (`ID_DIA`),
  KEY `fk_horario_bloque1_idx` (`ID_BLOQUE`),
  CONSTRAINT `FK_BC_ASIGNATURA` FOREIGN KEY (`ID_ASIGNATURA`) REFERENCES `asignatura` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_BC_GRADO` FOREIGN KEY (`ID_GRUPO`) REFERENCES `grupo` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_Dia_bloque` FOREIGN KEY (`ID_DIA`) REFERENCES `dia` (`ID`),
  CONSTRAINT `FK_DOCENTE_BLOQUE` FOREIGN KEY (`CEDULA_DOCENTE`) REFERENCES `personal` (`CEDULA`),
  CONSTRAINT `fk_horario_bloque1` FOREIGN KEY (`ID_BLOQUE`) REFERENCES `horario_designado` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1316 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `bloque_clase`
--

LOCK TABLES `bloque_clase` WRITE;
/*!40000 ALTER TABLE `bloque_clase` DISABLE KEYS */;
INSERT INTO `bloque_clase` VALUES (1106,110,'001-010805-1000Y',31,1,_binary '',3),(1107,110,'001-010805-1000Y',31,1,_binary '',4),(1108,110,'001-010805-1000Y',31,1,_binary '',5),(1109,110,'001-010805-1000Y',31,1,_binary '',6),(1110,110,'001-010805-1000Y',31,1,_binary '',7),(1111,110,'001-010805-1000Y',31,1,_binary '',8),(1112,110,'001-010805-1000Y',31,2,_binary '',3),(1113,110,'001-010805-1000Y',31,2,_binary '',4),(1114,110,'001-010805-1000Y',31,2,_binary '',5),(1115,110,'001-010805-1000Y',31,2,_binary '',6),(1116,110,'001-010805-1000Y',31,2,_binary '',7),(1117,110,'001-010805-1000Y',31,2,_binary '',8),(1118,110,'001-010805-1000Y',31,3,_binary '',3),(1119,110,'001-010805-1000Y',31,3,_binary '',4),(1120,110,'001-010805-1000Y',31,3,_binary '',5),(1121,110,'001-010805-1000Y',31,3,_binary '',6),(1122,110,'001-010805-1000Y',31,3,_binary '',7),(1123,110,'001-010805-1000Y',31,3,_binary '',8),(1124,110,'001-010805-1000Y',31,4,_binary '',3),(1125,110,'001-010805-1000Y',31,4,_binary '',4),(1126,110,'001-010805-1000Y',31,4,_binary '',5),(1127,110,'001-010805-1000Y',31,4,_binary '',6),(1128,110,'001-010805-1000Y',31,4,_binary '',7),(1129,110,'001-010805-1000Y',31,4,_binary '',8),(1130,110,'001-010805-1000Y',31,5,_binary '',3),(1131,110,'001-010805-1000Y',31,5,_binary '',4),(1132,110,'001-010805-1000Y',31,5,_binary '',5),(1133,110,'001-010805-1000Y',31,5,_binary '',6),(1134,110,'001-010805-1000Y',31,5,_binary '',7),(1135,110,'001-010805-1000Y',31,5,_binary '',8),(1136,111,'001-010805-1000Y',31,1,_binary '',3),(1137,111,'001-010805-1000Y',31,1,_binary '',4),(1138,111,'001-010805-1000Y',31,1,_binary '',5),(1139,111,'001-010805-1000Y',31,1,_binary '',6),(1140,111,'001-010805-1000Y',31,1,_binary '',7),(1141,111,'001-010805-1000Y',31,1,_binary '',8),(1142,111,'001-010805-1000Y',31,2,_binary '',3),(1143,111,'001-010805-1000Y',31,2,_binary '',4),(1144,111,'001-010805-1000Y',31,2,_binary '',5),(1145,111,'001-010805-1000Y',31,2,_binary '',6),(1146,111,'001-010805-1000Y',31,2,_binary '',7),(1147,111,'001-010805-1000Y',31,2,_binary '',8),(1148,111,'001-010805-1000Y',31,3,_binary '',3),(1149,111,'001-010805-1000Y',31,3,_binary '',4),(1150,111,'001-010805-1000Y',31,3,_binary '',5),(1151,111,'001-010805-1000Y',31,3,_binary '',6),(1152,111,'001-010805-1000Y',31,3,_binary '',7),(1153,111,'001-010805-1000Y',31,3,_binary '',8),(1154,111,'001-010805-1000Y',31,4,_binary '',3),(1155,111,'001-010805-1000Y',31,4,_binary '',4),(1156,111,'001-010805-1000Y',31,4,_binary '',5),(1157,111,'001-010805-1000Y',31,4,_binary '',6),(1158,111,'001-010805-1000Y',31,4,_binary '',7),(1159,111,'001-010805-1000Y',31,4,_binary '',8),(1160,111,'001-010805-1000Y',31,5,_binary '',3),(1161,111,'001-010805-1000Y',31,5,_binary '',4),(1162,111,'001-010805-1000Y',31,5,_binary '',5),(1163,111,'001-010805-1000Y',31,5,_binary '',6),(1164,111,'001-010805-1000Y',31,5,_binary '',7),(1165,111,'001-010805-1000Y',31,5,_binary '',8),(1166,112,'001-070984-0031F',31,1,_binary '',3),(1167,112,'001-070984-0031F',31,1,_binary '',4),(1168,112,'001-070984-0031F',31,1,_binary '',5),(1169,112,'001-070984-0031F',31,1,_binary '',6),(1170,112,'001-070984-0031F',31,1,_binary '',7),(1171,112,'001-070984-0031F',31,1,_binary '',8),(1172,112,'001-070984-0031F',31,2,_binary '',3),(1173,112,'001-070984-0031F',31,2,_binary '',4),(1174,112,'001-070984-0031F',31,2,_binary '',5),(1175,112,'001-070984-0031F',31,2,_binary '',6),(1176,112,'001-070984-0031F',31,2,_binary '',7),(1177,112,'001-070984-0031F',31,2,_binary '',8),(1178,112,'001-070984-0031F',31,3,_binary '',3),(1179,112,'001-070984-0031F',31,3,_binary '',4),(1180,112,'001-070984-0031F',31,3,_binary '',5),(1181,112,'001-070984-0031F',31,3,_binary '',6),(1182,112,'001-070984-0031F',31,3,_binary '',7),(1183,112,'001-070984-0031F',31,3,_binary '',8),(1184,112,'001-070984-0031F',31,4,_binary '',3),(1185,112,'001-070984-0031F',31,4,_binary '',4),(1186,112,'001-070984-0031F',31,4,_binary '',5),(1187,112,'001-070984-0031F',31,4,_binary '',6),(1188,112,'001-070984-0031F',31,4,_binary '',7),(1189,112,'001-070984-0031F',31,4,_binary '',8),(1190,112,'001-070984-0031F',31,5,_binary '',3),(1191,112,'001-070984-0031F',31,5,_binary '',4),(1192,112,'001-070984-0031F',31,5,_binary '',5),(1193,112,'001-070984-0031F',31,5,_binary '',6),(1194,112,'001-070984-0031F',31,5,_binary '',7),(1195,112,'001-070984-0031F',31,5,_binary '',8),(1196,113,'001-070984-0031F',31,1,_binary '',3),(1197,113,'001-070984-0031F',31,1,_binary '',4),(1198,113,'001-070984-0031F',31,1,_binary '',5),(1199,113,'001-070984-0031F',31,1,_binary '',6),(1200,113,'001-070984-0031F',31,1,_binary '',7),(1201,113,'001-070984-0031F',31,1,_binary '',8),(1202,113,'001-070984-0031F',31,2,_binary '',3),(1203,113,'001-070984-0031F',31,2,_binary '',4),(1204,113,'001-070984-0031F',31,2,_binary '',5),(1205,113,'001-070984-0031F',31,2,_binary '',6),(1206,113,'001-070984-0031F',31,2,_binary '',7),(1207,113,'001-070984-0031F',31,2,_binary '',8),(1208,113,'001-070984-0031F',31,3,_binary '',3),(1209,113,'001-070984-0031F',31,3,_binary '',4),(1210,113,'001-070984-0031F',31,3,_binary '',5),(1211,113,'001-070984-0031F',31,3,_binary '',6),(1212,113,'001-070984-0031F',31,3,_binary '',7),(1213,113,'001-070984-0031F',31,3,_binary '',8),(1214,113,'001-070984-0031F',31,4,_binary '',3),(1215,113,'001-070984-0031F',31,4,_binary '',4),(1216,113,'001-070984-0031F',31,4,_binary '',5),(1217,113,'001-070984-0031F',31,4,_binary '',6),(1218,113,'001-070984-0031F',31,4,_binary '',7),(1219,113,'001-070984-0031F',31,4,_binary '',8),(1220,113,'001-070984-0031F',31,5,_binary '',3),(1221,113,'001-070984-0031F',31,5,_binary '',4),(1222,113,'001-070984-0031F',31,5,_binary '',5),(1223,113,'001-070984-0031F',31,5,_binary '',6),(1224,113,'001-070984-0031F',31,5,_binary '',7),(1225,113,'001-070984-0031F',31,5,_binary '',8),(1226,114,'441-150493-0001V',31,1,_binary '',3),(1227,114,'441-150493-0001V',31,1,_binary '',4),(1228,114,'441-150493-0001V',31,1,_binary '',5),(1229,114,'441-150493-0001V',31,1,_binary '',6),(1230,114,'441-150493-0001V',31,1,_binary '',7),(1231,114,'441-150493-0001V',31,1,_binary '',8),(1232,114,'441-150493-0001V',31,2,_binary '',3),(1233,114,'441-150493-0001V',31,2,_binary '',4),(1234,114,'441-150493-0001V',31,2,_binary '',5),(1235,114,'441-150493-0001V',31,2,_binary '',6),(1236,114,'441-150493-0001V',31,2,_binary '',7),(1237,114,'441-150493-0001V',31,2,_binary '',8),(1238,114,'441-150493-0001V',31,3,_binary '',3),(1239,114,'441-150493-0001V',31,3,_binary '',4),(1240,114,'441-150493-0001V',31,3,_binary '',5),(1241,114,'441-150493-0001V',31,3,_binary '',6),(1242,114,'441-150493-0001V',31,3,_binary '',7),(1243,114,'441-150493-0001V',31,3,_binary '',8),(1244,114,'441-150493-0001V',31,4,_binary '',3),(1245,114,'441-150493-0001V',31,4,_binary '',4),(1246,114,'441-150493-0001V',31,4,_binary '',5),(1247,114,'441-150493-0001V',31,4,_binary '',6),(1248,114,'441-150493-0001V',31,4,_binary '',7),(1249,114,'441-150493-0001V',31,4,_binary '',8),(1250,114,'441-150493-0001V',31,5,_binary '',3),(1251,114,'441-150493-0001V',31,5,_binary '',4),(1252,114,'441-150493-0001V',31,5,_binary '',5),(1253,114,'441-150493-0001V',31,5,_binary '',6),(1254,114,'441-150493-0001V',31,5,_binary '',7),(1255,114,'441-150493-0001V',31,5,_binary '',8),(1256,115,'449-071080-0148Y',31,1,_binary '',9),(1257,115,'449-071080-0148Y',31,1,_binary '',10),(1258,115,'449-071080-0148Y',31,1,_binary '',11),(1259,115,'449-071080-0148Y',31,1,_binary '',12),(1260,115,'449-071080-0148Y',31,1,_binary '',13),(1261,115,'449-071080-0148Y',31,1,_binary '',14),(1262,115,'449-071080-0148Y',31,2,_binary '',9),(1263,115,'449-071080-0148Y',31,2,_binary '',10),(1264,115,'449-071080-0148Y',31,2,_binary '',11),(1265,115,'449-071080-0148Y',31,2,_binary '',12),(1266,115,'449-071080-0148Y',31,2,_binary '',13),(1267,115,'449-071080-0148Y',31,2,_binary '',14),(1268,115,'449-071080-0148Y',31,3,_binary '',9),(1269,115,'449-071080-0148Y',31,3,_binary '',10),(1270,115,'449-071080-0148Y',31,3,_binary '',11),(1271,115,'449-071080-0148Y',31,3,_binary '',12),(1272,115,'449-071080-0148Y',31,3,_binary '',13),(1273,115,'449-071080-0148Y',31,3,_binary '',14),(1274,115,'449-071080-0148Y',31,4,_binary '',9),(1275,115,'449-071080-0148Y',31,4,_binary '',10),(1276,115,'449-071080-0148Y',31,4,_binary '',11),(1277,115,'449-071080-0148Y',31,4,_binary '',12),(1278,115,'449-071080-0148Y',31,4,_binary '',13),(1279,115,'449-071080-0148Y',31,4,_binary '',14),(1280,115,'449-071080-0148Y',31,5,_binary '',9),(1281,115,'449-071080-0148Y',31,5,_binary '',10),(1282,115,'449-071080-0148Y',31,5,_binary '',11),(1283,115,'449-071080-0148Y',31,5,_binary '',12),(1284,115,'449-071080-0148Y',31,5,_binary '',13),(1285,115,'449-071080-0148Y',31,5,_binary '',14),(1286,116,'001-070991-0011Q',31,1,_binary '',3),(1287,116,'001-070991-0011Q',31,1,_binary '',4),(1288,116,'001-070991-0011Q',31,1,_binary '',5),(1289,116,'001-070991-0011Q',31,1,_binary '',6),(1290,116,'001-070991-0011Q',31,1,_binary '',7),(1291,116,'001-070991-0011Q',31,1,_binary '',8),(1292,116,'001-070991-0011Q',31,2,_binary '',3),(1293,116,'001-070991-0011Q',31,2,_binary '',4),(1294,116,'001-070991-0011Q',31,2,_binary '',5),(1295,116,'001-070991-0011Q',31,2,_binary '',6),(1296,116,'001-070991-0011Q',31,2,_binary '',7),(1297,116,'001-070991-0011Q',31,2,_binary '',8),(1298,116,'001-070991-0011Q',31,3,_binary '',3),(1299,116,'001-070991-0011Q',31,3,_binary '',4),(1300,116,'001-070991-0011Q',31,3,_binary '',5),(1301,116,'001-070991-0011Q',31,3,_binary '',6),(1302,116,'001-070991-0011Q',31,3,_binary '',7),(1303,116,'001-070991-0011Q',31,3,_binary '',8),(1304,116,'001-070991-0011Q',31,4,_binary '',3),(1305,116,'001-070991-0011Q',31,4,_binary '',4),(1306,116,'001-070991-0011Q',31,4,_binary '',5),(1307,116,'001-070991-0011Q',31,4,_binary '',6),(1308,116,'001-070991-0011Q',31,4,_binary '',7),(1309,116,'001-070991-0011Q',31,4,_binary '',8),(1310,116,'001-070991-0011Q',31,5,_binary '',3),(1311,116,'001-070991-0011Q',31,5,_binary '',4),(1312,116,'001-070991-0011Q',31,5,_binary '',5),(1313,116,'001-070991-0011Q',31,5,_binary '',6),(1314,116,'001-070991-0011Q',31,5,_binary '',7),(1315,116,'001-070991-0011Q',31,5,_binary '',8);
/*!40000 ALTER TABLE `bloque_clase` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `cargo`
--

DROP TABLE IF EXISTS `cargo`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cargo` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(35) NOT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  `ESTADO_C` bit(1) DEFAULT b'1',
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `cargo`
--

LOCK TABLES `cargo` WRITE;
/*!40000 ALTER TABLE `cargo` DISABLE KEYS */;
INSERT INTO `cargo` VALUES (1,'DOCENTE',_binary '',_binary ''),(2,'DIRECTOR',_binary '',_binary ''),(3,'SUB DIRECTOR',_binary '',_binary ''),(4,'SECRETARIA',_binary '',_binary ''),(5,'CONSERJE OPERARIO',_binary '',_binary ''),(6,'TECNICO SUPERIOR',_binary '',_binary ''),(7,'TECNICO',_binary '\0',_binary '\0'),(8,'PROFESOR TECNICO',_binary '\0',_binary '\0'),(9,'PRUEBA',_binary '\0',_binary '\0'),(10,'PRUEB02',_binary '\0',_binary '\0'),(11,'',_binary '\0',_binary '\0'),(13,'[OBJECT HTMLINPUTELEMENT]',_binary '\0',_binary '\0'),(14,'ASD',_binary '\0',_binary '\0'),(15,'PPPPPPLL',_binary '\0',_binary '\0'),(16,'CXXX',_binary '\0',_binary '\0'),(17,'CARGO',_binary '\0',_binary '\0'),(18,'PRUEBA 99',_binary '\0',_binary ''),(19,'PRUEBA 22',_binary '\0',_binary ''),(20,'PRUEBA1237',_binary '\0',_binary '\0'),(21,'CATEDRATICO',_binary '\0',_binary ''),(22,'JOJO',_binary '\0',_binary '');
/*!40000 ALTER TABLE `cargo` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `dia`
--

DROP TABLE IF EXISTS `dia`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `dia` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(35) NOT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dia`
--

LOCK TABLES `dia` WRITE;
/*!40000 ALTER TABLE `dia` DISABLE KEYS */;
INSERT INTO `dia` VALUES (1,'LUNES',_binary ''),(2,'MARTES',_binary ''),(3,'MIERCOLES',_binary ''),(4,'JUEVES',_binary ''),(5,'VIERNES',_binary ''),(6,'SABADO',_binary '\0'),(7,'DOMINGO',_binary '\0');
/*!40000 ALTER TABLE `dia` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `grado`
--

DROP TABLE IF EXISTS `grado`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `grado` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(30) DEFAULT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `grado`
--

LOCK TABLES `grado` WRITE;
/*!40000 ALTER TABLE `grado` DISABLE KEYS */;
INSERT INTO `grado` VALUES (1,'I NIVEL',_binary ''),(2,'II NIVEL',_binary ''),(3,'III NIVEL',_binary ''),(4,'PRIMER GRADO',_binary ''),(5,'SEGUNDO GRADO',_binary ''),(6,'TERCER GRADO',_binary ''),(7,'CUARTO GRADO',_binary ''),(8,'QUINTO GRADO',_binary ''),(9,'SEXTO GRADO',_binary ''),(10,'SEPTIMO GRADO',_binary ''),(11,'OCTAVO GRADO',_binary ''),(12,'NOVENO GRADO',_binary ''),(13,'DECIMO GRADO',_binary ''),(14,'UNDECIMO GRADO',_binary ''),(15,'I CICLO',_binary ''),(16,'II CICLO',_binary ''),(17,'II CICLO',_binary '');
/*!40000 ALTER TABLE `grado` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `grupo`
--

DROP TABLE IF EXISTS `grupo`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `grupo` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `ID_GRADO` int DEFAULT NULL,
  `ID_SECCION` int NOT NULL,
  `ID_TURNO` int NOT NULL,
  `ANIO_ESCOLAR` date DEFAULT NULL,
  `CEDULA_DOCENTE` char(18) DEFAULT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  `ID_MODALIDAD` int DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_GRADO_SECCION` (`ID_SECCION`),
  KEY `FK_GRADO_TURNO` (`ID_TURNO`),
  KEY `fk_grupo_grado` (`ID_GRADO`),
  KEY `FK_GRADO_PERSONAL` (`CEDULA_DOCENTE`),
  CONSTRAINT `FK_GRADO_PERSONAL` FOREIGN KEY (`CEDULA_DOCENTE`) REFERENCES `personal` (`CEDULA`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_GRADO_SECCION` FOREIGN KEY (`ID_SECCION`) REFERENCES `seccion` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_GRADO_TURNO` FOREIGN KEY (`ID_TURNO`) REFERENCES `turno` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_grupo_grado` FOREIGN KEY (`ID_GRADO`) REFERENCES `grado` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=117 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `grupo`
--

LOCK TABLES `grupo` WRITE;
/*!40000 ALTER TABLE `grupo` DISABLE KEYS */;
INSERT INTO `grupo` VALUES (110,4,1,1,'2022-05-30','001-010805-1000Y',_binary '',4),(111,4,1,1,'2023-05-30','001-010805-1000Y',_binary '',4),(112,5,1,1,'2022-05-30','001-070984-0031F',_binary '',4),(113,5,1,1,'2023-05-30','001-070984-0031F',_binary '',4),(114,6,1,1,'2023-05-30','441-150493-0001V',_binary '',4),(115,4,1,3,'2023-05-30','449-071080-0148Y',_binary '',4),(116,7,1,1,'2023-05-31','001-070991-0011Q',_binary '',4);
/*!40000 ALTER TABLE `grupo` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `horario_designado`
--

DROP TABLE IF EXISTS `horario_designado`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `horario_designado` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `No_Bloque` int DEFAULT NULL,
  `TimeBegin` time DEFAULT NULL,
  `TimeEnd` time DEFAULT NULL,
  `ID_Modalidad` int NOT NULL,
  `ID_Turno` int NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `fk_bloque_modalidad1_idx` (`ID_Modalidad`),
  KEY `fk_HorarioDesignado_turno1_idx` (`ID_Turno`),
  CONSTRAINT `fk_bloque_modalidad1` FOREIGN KEY (`ID_Modalidad`) REFERENCES `modalidad` (`ID`),
  CONSTRAINT `fk_HorarioDesignado_turno1` FOREIGN KEY (`ID_Turno`) REFERENCES `turno` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `horario_designado`
--

LOCK TABLES `horario_designado` WRITE;
/*!40000 ALTER TABLE `horario_designado` DISABLE KEYS */;
INSERT INTO `horario_designado` VALUES (3,1,'07:00:00','07:45:00',4,1),(4,2,'07:45:00','08:30:00',4,1),(5,3,'08:30:00','09:15:00',4,1),(6,4,'09:15:00','10:00:00',4,1),(7,5,'10:30:00','11:15:00',4,1),(8,6,'11:15:00','12:00:00',4,1),(9,1,'12:30:00','01:15:00',4,3),(10,2,'01:15:00','02:00:00',4,3),(11,3,'02:00:00','02:45:00',4,3),(12,4,'02:45:00','03:00:00',4,3),(13,5,'03:45:00','04:30:00',4,3),(14,6,'04:30:00','05:15:00',4,3);
/*!40000 ALTER TABLE `horario_designado` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `modalidad`
--

DROP TABLE IF EXISTS `modalidad`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `modalidad` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(35) DEFAULT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  `ESTADO_M` bit(1) DEFAULT b'1',
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=47 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `modalidad`
--

LOCK TABLES `modalidad` WRITE;
/*!40000 ALTER TABLE `modalidad` DISABLE KEYS */;
INSERT INTO `modalidad` VALUES (1,'PREESCOLAR COMUNITARIO',_binary '',_binary ''),(2,'PREESCOLAR FORMAL',_binary '',_binary ''),(3,'PREESCOLAR MULTINIVEL',_binary '\0',_binary ''),(4,'PRIMARIA REGULAR',_binary '',_binary ''),(5,'PRRIMARIA EXTRAEDAD',_binary '\0',_binary '\0'),(6,'SECUNDARIA DIURNA',_binary '',_binary ''),(7,'SECUNDARIA NOCTURNA',_binary '',_binary ''),(8,'SECUNDARIA POR ENCUENTRO',_binary '\0',_binary ''),(9,'PRIMARIA EXTRAEDAD',_binary '',_binary ''),(10,'SECUNDARIA TECNICA',_binary '\0',_binary '\0'),(11,'PREPARATORIA',_binary '\0',_binary '\0'),(12,'PRUENA',_binary '\0',_binary '\0'),(13,'',_binary '\0',_binary '\0'),(14,'MOD',_binary '\0',_binary '\0'),(15,'SAS',_binary '\0',_binary '\0'),(16,'PER',_binary '\0',_binary '\0'),(17,'LOLAZO',_binary '\0',_binary '\0'),(18,'OP',_binary '\0',_binary '\0'),(19,'IOP',_binary '\0',_binary '\0'),(20,'OLKI',_binary '\0',_binary '\0'),(21,'MODALIDAD_INSECTO',_binary '\0',_binary '\0'),(22,'FDDFSFSF',_binary '\0',_binary '\0'),(23,'MEZA',_binary '\0',_binary '\0'),(24,'PERRUNA',_binary '\0',_binary '\0'),(25,'QWERTY',_binary '\0',_binary '\0'),(26,'QW',_binary '\0',_binary '\0'),(27,'GHJHJ',_binary '\0',_binary '\0'),(28,'GHJK',_binary '\0',_binary '\0'),(29,'789',_binary '\0',_binary '\0'),(30,'96',_binary '\0',_binary '\0'),(31,'963',_binary '\0',_binary '\0'),(32,'9874',_binary '\0',_binary '\0'),(33,'PLOKIOK',_binary '\0',_binary '\0'),(34,'ZXC',_binary '\0',_binary '\0'),(35,'ZXCZXCZXC',_binary '\0',_binary '\0'),(36,'ZXC XCXZ',_binary '\0',_binary '\0'),(37,'DFSF',_binary '\0',_binary '\0'),(38,'SIRVE',_binary '\0',_binary '\0'),(39,'SAD',_binary '\0',_binary '\0'),(40,'L√ëL',_binary '\0',_binary '\0'),(41,'DGHHF',_binary '\0',_binary '\0'),(42,'PRIETITA',_binary '\0',_binary '\0'),(43,'MODALIDAD DE PRUEBA',_binary '\0',_binary '\0'),(44,'PRUEBA',_binary '\0',_binary '\0'),(45,'MODALIDAD PRUEBA 01',_binary '\0',_binary '\0'),(46,'PRUEBA0303',_binary '\0',_binary '\0');
/*!40000 ALTER TABLE `modalidad` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `modalidad_grado`
--

DROP TABLE IF EXISTS `modalidad_grado`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `modalidad_grado` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `ID_GRADO` int DEFAULT NULL,
  `ID_MODALIDAD` int DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_GRADO_MG` (`ID_GRADO`),
  KEY `FK_MODALIDAD_MG` (`ID_MODALIDAD`),
  CONSTRAINT `FK_GRADO_MG` FOREIGN KEY (`ID_GRADO`) REFERENCES `grado` (`ID`),
  CONSTRAINT `FK_MODALIDAD_MG` FOREIGN KEY (`ID_MODALIDAD`) REFERENCES `modalidad` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=35 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `modalidad_grado`
--

LOCK TABLES `modalidad_grado` WRITE;
/*!40000 ALTER TABLE `modalidad_grado` DISABLE KEYS */;
INSERT INTO `modalidad_grado` VALUES (1,1,1),(2,1,2),(3,1,3),(4,2,1),(5,2,2),(6,2,3),(7,3,1),(8,3,2),(9,3,3),(10,4,4),(11,5,4),(12,6,4),(13,7,4),(14,8,4),(15,9,4),(16,10,6),(17,10,7),(18,10,8),(19,11,6),(20,11,7),(21,11,8),(22,12,6),(23,12,7),(24,12,8),(25,13,7),(26,14,8),(28,13,6),(29,13,8),(30,14,6),(31,14,7),(32,15,9),(33,16,9),(34,17,9);
/*!40000 ALTER TABLE `modalidad_grado` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `modalidad_turno`
--

DROP TABLE IF EXISTS `modalidad_turno`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `modalidad_turno` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `ID_TURNO` int DEFAULT NULL,
  `ID_MODALIDAD` int DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_modalidad_turno` (`ID_TURNO`),
  KEY `FK_modalidad_turno92` (`ID_MODALIDAD`),
  CONSTRAINT `FK_modalidad_turno` FOREIGN KEY (`ID_TURNO`) REFERENCES `turno` (`ID`),
  CONSTRAINT `FK_modalidad_turno92` FOREIGN KEY (`ID_MODALIDAD`) REFERENCES `modalidad` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `modalidad_turno`
--

LOCK TABLES `modalidad_turno` WRITE;
/*!40000 ALTER TABLE `modalidad_turno` DISABLE KEYS */;
INSERT INTO `modalidad_turno` VALUES (1,1,4),(4,3,5),(5,3,6),(8,3,4),(9,1,1),(10,1,9),(11,10,7),(12,4,8),(13,3,9),(14,3,1),(15,1,2),(16,3,2),(17,1,3),(18,3,3),(19,1,6);
/*!40000 ALTER TABLE `modalidad_turno` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `personal`
--

DROP TABLE IF EXISTS `personal`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `personal` (
  `CEDULA` char(18) NOT NULL,
  `PRIMER_NOMBRE` varchar(35) NOT NULL,
  `SEGUNDO_NOMBRE` varchar(35) DEFAULT NULL,
  `PRIMER_APELLIDO` varchar(35) NOT NULL,
  `SEGUNDO_APELLIDO` varchar(35) DEFAULT NULL,
  `FECHA_NACIMIENTO` date NOT NULL,
  `SEXO` char(1) DEFAULT NULL,
  `TELEFONO` varchar(8) DEFAULT NULL,
  `DIRECCION` varchar(2000) DEFAULT NULL,
  `HORAS_LABORALES` int NOT NULL,
  `USSER` varchar(20) NOT NULL,
  `CONTRA` varchar(100) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL,
  `ESTADO` bit(1) NOT NULL,
  `ID_CARGO` int NOT NULL,
  `FECHA_REGISTRO` date NOT NULL,
  `ESTADO_A` bit(1) DEFAULT b'1',
  PRIMARY KEY (`CEDULA`),
  KEY `FK_CARGO_PADMIN` (`ID_CARGO`),
  CONSTRAINT `FK_CARGO_PADMIN` FOREIGN KEY (`ID_CARGO`) REFERENCES `cargo` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `personal`
--

LOCK TABLES `personal` WRITE;
/*!40000 ALTER TABLE `personal` DISABLE KEYS */;
INSERT INTO `personal` VALUES ('001-010805-1000Y','SAMUEL','FERRAN','AGUIRRE','RUIZ','2001-02-07','M','77777777','HHHAHHAHA',40,'samuel123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2023-03-28',_binary ''),('001-070984-0031F','MAGDA','VERONICA','FLORES','LOPEZ','1984-07-09','F','77774033','CIUDAD SANDINO ENTRANDA PRINCIPAL 2 CUADRAS AL SUR',40,'magda123','¬™√ë¬¥√ª¬ê¬¢=¬©+√ç√ë√ì7√ª',_binary '',2,'2022-09-08',_binary ''),('001-070985-0032X','SARAI','SOFIA','MERCADO','LARIOS','1985-07-09','F','77774033','PARQUE MATEARE 2 CUADRAS AL SUR ',10,'sari123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-070988-0032W','MARIA','JULIANA','MARTINEZ','CASTRO','1988-07-09','F','77774033','PARQUE MATEARE 2 CUADRAS AL SUR',10,'maria123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-09-08',_binary ''),('001-070989-0041P','MARJORIE','JACQUELINE','MEMBRE√ëO','CASTRO','1989-07-09','F','88124033','ENTRADA PRINCIPAL CIUDAD SANDINO 2 CUADRAS AL SUR',10,'marjo123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-070989-0239L','MARIA','ELIZABETH','ALARCON','ROA','1989-07-09','F','78974033','PARQUE MATEARE 3 CUADRAS AL SUR',10,'mari123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-09-08',_binary ''),('001-070990-0031F','YURI','PATRICIA','HERNANDEZ','RAMIREZ','1990-07-09','F','77774033','CIUDAD SANDINO ENTRANDA PRINCIPAL 7 CUADRAS AL SUR',0,'yuri123','‚Ç¨I[√•E≈Ω√≤√ï`Y√Ø\ZF≈°@',_binary '\0',1,'2022-09-08',_binary ''),('001-070991-0011Q','ANDREA','ANTONIA','SILVA','GUIDO','1991-07-09','F','77774033','PARQUE MATEARE 7 CUADRAS AL SUR',40,'andy123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-070992-0031X','MARCO','AURELIO','ALEMAN','SOLIS','1992-07-09','M','77774033','PARQUE MATEARE 2 CUADRAS AL SUR',10,'marco123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-070997-0031X','MEYLING','ESTEFANIA','PEREZ','VELASQUEZ','1997-07-09','F','77774033','PARQUE MATEARE 2 CUADRAS AL SUR',10,'mey123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-09-08',_binary ''),('001-070999-0043W','SEBASTIAN','JOSE','MEZA','PEREZ','1999-07-09','M','77774033','PARQUE MATEARE 2 CUADRAS AL SUR',10,'sebas123','√®√è√∑≈æ¬£‚Äùx√µ√π√µI‚Äú‚Ñ¢≈†¬≠',_binary '',1,'2022-09-08',_binary ''),('001-070999-0231S','ESTELA','RACHEL','PEREZ','BENAVIDEZ','1999-07-09','F','79974033','PARQUE MATEARE 2 CUADRAS AL SUR',10,'este123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071070-0129X','MERY','LORENA','SOZA','ORTEGA','1970-07-12','F','88901243','ENTRADA CIUDAD SANDINO 7 CUADRAS AL NORTE',10,'mercedes123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071072-0009A','ATALIA','ABIGAIL','MONTERO','ORTEGA','1972-07-12','F','88901243','ENTRADA CIUDAD SANDINO 7 CUADRAS AL NORTE',10,'atalia123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071073-0007Q','NOELIA','SOFIA','ARAGON','SOLIS','1973-09-09','F','88901243','ENTRADA CIUDAD SANDINO 7 CUADRAS AL NORTE',10,'noelia123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071080-0018U','PANCRACIA','','VASQUEZ','OROZCO','1980-07-12','2','81299033','ENTRADA CIUDAD SANDINO 3 CUADRAS AL NORTE 2 CUADRAS ABAJO',10,'anabel123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071082-0129X','URANIA','','ARROLIGA','ESTRADA','1982-07-12','F','81204333','CARRETERA VIEJA A LEON KM 24',10,'urania123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071087-0023Z','JERONIMA','SONIA','MONTERO','CASTRO','1987-07-12','F','81200033','ENTRADA CIUDAD SANDINO 3 CUADRAS AL NORTE 2 CUADRAS ABAJO',10,'jeronima123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071089-0018K','BERTHA','ESMERALDA','ORDO√ëEZ','MATUTE','1989-07-12','F','81200033','ENTRADA CIUDAD SANDINO 7 CUADRAS AL NORTE',10,'bertha123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071089-0018U','BETHANIA','','SALGADO','MERARI','1989-07-12','F','81200033','ENTRADA CIUDAD SANDINO 3 CUADRAS AL NORTE 2 CUADRAS ABAJO',10,'bethania123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071090-0048H','IRIS','SOFIA','SOLIS','GUEVARA','1990-12-12','F','81223033','ENTRADA CIUDAD SANDINO 9 CUADRAS AL NORTE',10,'iris123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-09-08',_binary ''),('001-071091-0113Z','MARTIN','JOSE','CACERES','BRIONES','1991-07-10','M','77274089','ENTRADA CIUDAD SANDINO 7 CUADRAS AL NORTE',10,'martin123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071097-3248G','IRMA','','RODRIGUEZ','SOMARRIBA','1997-07-12','F','81274033','ENTRADA CIUDAD SANDINO 7 CUADRAS AL NORTE',10,'irma123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-071099-0148Y','REYNA','ISABEL','VELASZQUEZ','ROA','1999-07-10','F','81274033','CARRETERA VIEJA A LEON KM 24',10,'reyna123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-09-08',_binary ''),('001-100494-0001V','MARIA','MAGDALENA','URROZ','BLANDON','1994-04-10','F','88897312','CIUDAD SANDINO TOPE SUR',10,'mari123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-120374-0009D','JASON ','ESTEBAN ','SEGUNDO','PEREZ','1974-03-12','M','74728792','SABANA GRANDE',10,'jason 123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2023-03-11',_binary ''),('001-1504993-3101V','MARIA','LILIANA','RAMIREZ','PICADO','1993-04-15','F','75201807','SABANA GRANDE, VILLA JERUSALEM',10,'maria123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-10-10',_binary ''),('001-1504993-4101V','JOSUE','JACINTO','MENDIETA','ROA','1993-04-15','M','75201807','SABANA GRANDE, VILLA JERUSALEM',10,'josue123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-10-10',_binary ''),('001-180990-0004Z','SOFIA','SARAI','MARTINEZ','RUIZ','1990-09-18','F','89903242','PARQUE MATEARE 7 CUADRAS LA NORTE',10,'sofiy123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('001-230890-0031X','DINA','SARAI','CASTRO','FLORES','1990-08-23','F','77774033','CARRETERA VIEJA A LEON KM 29',10,'dina123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('002-010807-1023Y','JACINTA','DEL CARMEN','TALENO','DIAZ','2004-12-06','F','85967411','MATEARE',10,'jacinta123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',4,'2023-01-08',_binary ''),('002-071094-0148B','FATIMA','YALENA','MOJICA','ARAGON','1994-07-10','F','81274033','CARRETERA VIEJA A LEON KM 29',10,'fatima123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('002-071097-0148L','ARELYS','VANESSA','JALINA','ROCHA','1997-07-12','F','82474033','JARDINES DE VERACRUZ DE LA ROTONDA 2 CUADRAS AL LAGO',10,'arelys123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary '\0'),('440-071091-21480','FLOR','DE MARIA','PINEDA','ARVIZU','1991-07-10','F','81274033','CARRETERA VIEJA A LEON KM 29',10,'flor123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('440-071094-0148Y','ISABEL','SERENA','MEZA','PEREZ','1994-07-10','F','81274033','CARRETERA VIEJA A LEON KM 29',10,'isabel123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('441-150493-0001V','ANABEL','MARIA','SANDOVAL','CASCO','2003-09-11','F','12121212','SU CASA',40,'anabel123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',4,'2023-01-01',_binary ''),('443-070990-0012P','JORGE','ENMANUEL','LEIVA','SILVA','1990-07-09','M','89774033','ENTRADA CIUDAD SANDINO 3 CUADRAS AL NORTE',10,'jorge123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('443-071091-0113Z','OSCAR','DANILO','CASTRO','FLORES','1991-07-10','M','81274033','ENTRADA CIUDAD SANDINO 3 CUADRAS AL NORTE',10,'oscar123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('445-1504992-3101V','LILIT','','RAMIREZ','PICADO','1993-04-15','F','75201807','SABANA GRANDE, VILLA JERUSALEM',10,'lilit123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-11-13',_binary ''),('448-150493-0001C','ALANIS','JJJJ','KKK','','2004-12-21','F','89977488','ZFDFDF',10,'alanis123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-11-21',_binary '\0'),('448-150494-0001X','JUAN','FRANCISCO','PEREZ','PEREIRA','2004-12-07','M','88227458','SU CASA',10,'juan123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2022-12-03',_binary '\0'),('448-1504993-0001V','MACOS','RAMON','MENDOZA','PEREZ','1993-04-15','M','75201807','SABANA GRANDE, VILLA JERUSALEM',10,'macos123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-21',_binary ''),('449-071080-0148Y','CARMEN','ELVIRA','PINEDA','ARVIZU','1980-07-10','F','81271233','BO. NUEVA VIDA KM 10 CARRETERA VIEJA A LEON CASA NO210',10,'carmen123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '',1,'2022-09-08',_binary ''),('474-010805-1023Y','CAROLINA','MELISSA','CORDOBA','SANDOVAL','2004-11-29','F','85749641','MATEARE',10,'carolina123','‚ÄûV¬£‚Äπ¬ç√ÄWr√∏2m¬ù',_binary '\0',1,'2023-01-08',_binary '\0');
/*!40000 ALTER TABLE `personal` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `seccion`
--

DROP TABLE IF EXISTS `seccion`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `seccion` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(10) NOT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `seccion`
--

LOCK TABLES `seccion` WRITE;
/*!40000 ALTER TABLE `seccion` DISABLE KEYS */;
INSERT INTO `seccion` VALUES (1,'A',_binary ''),(2,'B',_binary ''),(3,'C',_binary '\0'),(4,'D',_binary '\0');
/*!40000 ALTER TABLE `seccion` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `turno`
--

DROP TABLE IF EXISTS `turno`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `turno` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(35) NOT NULL,
  `ESTADO` bit(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `turno`
--

LOCK TABLES `turno` WRITE;
/*!40000 ALTER TABLE `turno` DISABLE KEYS */;
INSERT INTO `turno` VALUES (1,'MATUTINO',_binary ''),(3,'VESPERTINO',_binary ''),(4,'SABATINO',_binary '\0'),(10,'NOCTURNO',_binary ''),(11,'DOMINICAL',_binary '');
/*!40000 ALTER TABLE `turno` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'planificacion_academica'
--

--
-- Dumping routines for database 'planificacion_academica'
--
/*!50003 DROP FUNCTION IF EXISTS `FC_ConvertString` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` FUNCTION `FC_ConvertString`(
	_cadena varchar(100)
) RETURNS varchar(100) CHARSET utf8mb4
    READS SQL DATA
    DETERMINISTIC
begin
        return  CONCAT(UPPER(LEFT(_cadena, 1)), LOWER(SUBSTRING(_cadena, 2))) ;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `FC_Insertar_Grupo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` FUNCTION `FC_Insertar_Grupo`(
_id_grado int,
    _id_seccion int,
    _id_turno int,
    _id_modalidad int,
    _cedula_docente char(18)
) RETURNS varchar(50) CHARSET utf8mb4
    READS SQL DATA
    DETERMINISTIC
begin

		INSERT INTO GRUPO (ID_GRADO,ID_SECCION,ID_TURNO,ID_MODALIDAD,ANIO_ESCOLAR,CEDULA_DOCENTE,ESTADO)
			VALUES	(_id_grado,_id_seccion,_id_turno,_id_modalidad,CURDATE(), _cedula_docente,1);
        
        UPDATE PERSONAL SET ESTADO=1 WHERE CEDULA = _cedula_docente;
        UPDATE GRADO SET ESTADO = 1 WHERE ID = _id_grado;
        UPDATE SECCION SET ESTADO = 1 WHERE ID = _id_seccion;
        UPDATE TURNO SET ESTADO = 1 WHERE ID = _id_turno;
        UPDATE MODALIDAD SET ESTADO = 1 WHERE ID = _id_modalidad;
        /*return 'Grupo creado con exito'*/
        return last_insert_id();
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Actualizar_Actividad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Actualizar_Actividad`(
	CODIGO int,
    descripcion_actividad text,
    protagonista_ac text,
    meta_a int,
    meta_t int,
    part_f int,
    part_m int,
     /*preguntas de valoracion cualitativa*/
    v_cualitatia01 text,
    v_cualitatia02 text,
    v_cualitatia03 text,
    v_cualitatia04 text,
    v_cualitatia05 text,
    dificultades_ac text,
    /*preguntas de plan de medida*/
	p_medida_pregunta01 text,
    p_medida_pregunta02 text,
    p_medida_pregunta03 text,
    p_medida_pregunta04 text,
    p_medida_pregunta05 text,
    alertas_ac text,
    propuesta_ac text,
    observacion_ac text
)
begin
	/*Declarando variables de codigo*/
    DECLARE part_total INT;
    declare id_medida int;
    declare id_cualitativa int;
    /*Convirtiendo todo a mayusculas*/
    set descripcion_actividad = upper(descripcion_actividad);
    set protagonista_ac= upper(protagonista_ac);
    set v_cualitatia01= upper(v_cualitatia01);
    set v_cualitatia02= upper(v_cualitatia02);
    set v_cualitatia03= upper(v_cualitatia03);
    set v_cualitatia04 = upper(v_cualitatia04);
    set v_cualitatia05 = upper(v_cualitatia05);
    set dificultades_ac =  upper(dificultades_ac);
	set p_medida_pregunta01= upper(p_medida_pregunta01) ;
    set p_medida_pregunta02 =  upper(p_medida_pregunta02);
    set p_medida_pregunta03 = upper(p_medida_pregunta03);
    set p_medida_pregunta04 = upper(p_medida_pregunta04);
    set p_medida_pregunta05= upper(p_medida_pregunta05);
    set alertas_ac = upper(alertas_ac) ;
    set observacion_ac = upper(observacion_ac);
    set alertas_ac = upper(alertas_ac);
    SET part_total = part_f+ part_M;
    
    if (part_total > meta_t) then
		select "LA SUMA DE LOS PARTICIPANTES NO PUEDE SER MAYOR QUE LA META ESTABLECIDA" AS "MENSAJE";
	ELSE
			update actividad  set DESCRIPCION = descripcion_actividad 
            ,PROTAGONISTA =protagonista_ac
            ,META_ANUAL =meta_a ,
            METRA_TRIMESTRAL = meta_t,
            PARTICIPANTES_F =part_f,
            PARTICIPANTES_M = part_m
            ,DIFICULTADES = dificultades_ac
            ,ALERTAS = alertas_ac
            ,PROPUESTA =propuesta_ac
            ,OBSERVACION =observacion_ac
            ,MEDIDA01 = p_medida_pregunta01,
			MEDIDA02 = p_medida_pregunta02
            ,MEDIDA03 = p_medida_pregunta03
            ,MEDIDA04 = p_medida_pregunta04
            ,MEDIDA05 = p_medida_pregunta05
            ,CU01 = v_cualitatia01,
            CU02 = v_cualitatia02,
            CU03 = v_cualitatia03,
            CU04 = v_cualitatia04,
            CU05 =v_cualitatia05 where ID = CODIGO;


		
			SELECT "Actividad Actualizada Correctamente" AS "MENSAJE";
        
        
    end if;
 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Actualizar_Asigantura` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Actualizar_Asigantura`(
	_ID int,
	_Desripcion varchar(45)
)
begin
	set _Desripcion = upper(ltrim(rtrim(_Desripcion)));
	if (not exists (select DESCRIPCION from asignatura where STRCMP(DESCRIPCION,_Desripcion)  = 0) ) then
		update asignatura set DESCRIPCION = _Desripcion where ID = _ID;
    select 'LA ASIGNATURA HA SIDO ACTUALIZADA CORRECTAMENTE' AS 'MENSAJE';
    else
			select 'LA ASIGNATURA YA EXISTE EN LA BASE DE DATOS' AS 'MENSAJE';
	end if; 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Actualizar_Cargo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Actualizar_Cargo`(
_id_cargo int,
_cargo varchar(35)
)
begin
set _cargo = ltrim(rtrim(_cargo));
	if (not exists (select DESCRIPCION from CARGO where DESCRIPCION = _cargo  )) then
			  update cargo set DESCRIPCION= upper(_cargo) where ID = _id_cargo;
    select "CARGO ACTUALIZADO CORRECTAMENTE" AS "MENSAJE";
    else
			select 'EL CARGO ACAD√âMICO YA EXISTE EN LA BASE DE DATOS' AS 'MENSAJE';
	end if; 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Actualizar_Datos_Basicos_Personal` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Actualizar_Datos_Basicos_Personal`(
  _cedula char(18),
  _p_nombre varchar(35),
  _s_nombre varchar(35),
  _p_apellido varchar(35),
  _s_apellido varchar(35),
  _fecha_nac date,
  _sexo int,
  _telefono char(8),
  _direccion varchar(2000),
  _id_cargo int
)
begin
declare new_sexo char(1);
if (_sexo = 1 ) then
	 set new_sexo = 'F';
		else
	  set new_sexo = 'M';
end if;
   update personal  
	   set PRIMER_NOMBRE = upper(_p_nombre) ,
		   SEGUNDO_NOMBRE = upper(_s_nombre) ,
           PRIMER_APELLIDO =upper(_p_apellido) ,
           SEGUNDO_APELLIDO = upper(_s_apellido) ,
           FECHA_NACIMIENTO = _fecha_nac,
		   SEXO = upper(new_sexo) ,
           TELEFONO = _telefono,
           DIRECCION =upper(_direccion) ,
           ID_CARGO = _id_cargo where CEDULA = _cedula;
		select "PERSONAL ACTUALIZADO" AS "MENSAJE";
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Actualizar_Grupo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Actualizar_Grupo`(
	_id_grupo int,
    _id_grado int,
    _id_seccion int,
    _id_turno int,
    _id_modalidad int,
    _cedula_docente char(18)
)
sp: begin	
		declare docente char(18);
	   if exists (select ID from grupo where ID_GRADO = _id_grado and ID_SECCION=_id_seccion and  ID_TURNO=_id_turno and ID_MODALIDAD=_id_modalidad AND year(ANIO_ESCOLAR) = year(curdate()))  then
			if  (STRCMP((select CEDULA_DOCENTE from grupo WHERE ID = _id_grupo),_cedula_docente) != 0  )then
				/*se identifica el docente anterior para liberarlo  --INICIO--*/
				set docente = (select CEDULA_DOCENTE from grupo where ID = _id_grupo);
				UPDATE personal SET ESTADO=0 WHERE CEDULA = docente;
				UPDATE personal SET ESTADO=1 WHERE CEDULA = _cedula_docente;
                
				/*se identifica el docente anterior para liberarlo  --FIN--*/
				UPDATE grupo SET CEDULA_DOCENTE=_cedula_docente WHERE ID = _id_grupo;
                
				SELECT'Grupo Actualizado con exito' AS "MENSAJE";
                leave sp;
			else
				SELECT'Grupo Actualizado con exito' AS "MENSAJE";
				leave sp;
			end if;
		else
			UPDATE GRUPO SET ID_GRADO = _id_grado,
			ID_SECCION = _id_seccion,
			ID_TURNO =_id_turno,
			ID_MODALIDAD = _id_modalidad WHERE ID = _id_grupo;

			UPDATE GRADO SET ESTADO = 1 WHERE ID = _id_grado;
			UPDATE SECCION SET ESTADO = 1 WHERE ID = _id_seccion;
			UPDATE TURNO SET ESTADO = 1 WHERE ID = _id_turno;
			UPDATE MODALIDAD SET ESTADO = 1 WHERE ID = _id_modalidad;
			SELECT'Grupo Actualizado con exito' AS "MENSAJE";
		end if;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Actualizar_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Actualizar_Modalidad`(
	_ID int,
	_Descripcion varchar(45)
)
begin
	set _Descripcion = upper(ltrim(rtrim(_Descripcion)));
	if (not exists (select DESCRIPCION from modalidad where DESCRIPCION = _Descripcion )) then
				update modalidad set DESCRIPCION = _Descripcion where ID = _ID;
    select 'LA MODALIDAD HA SIDO ACTUALIZADA CORRECTAMENTE' AS 'MENSAJE';
    else
		select 'LA MODALIDAD YA EXISTE EN LA BASE DE DATOS' AS 'MENSAJE';
	end if; 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Buscar_Actividad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Buscar_Actividad`(
	 ID_ACTIVIDAD int
)
begin
	select * from actividad
	where ID = ID_ACTIVIDAD;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Buscar_Codigo_Grupo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Buscar_Codigo_Grupo`(
 _ID_MODALIDAD INT,
 _ID_GRADO INT,
 _ID_SECCION INT,
 _ID_TURNO INT
)
begin
 /*if exists (select ID from grupo where ID_MODALIDAD = _ID_MODALIDAD AND ID_GRADO = _ID_GRADO AND ID_SECCION = _ID_SECCION AND ID_TURNO = _ID_TURNO)  then*/
 if exists ( select  gg.ID as CODIGO_GRUPO,m.DESCRIPCION as  MODALIDAD, g.DESCRIPCION AS GRADO,
 s.DESCRIPCION AS SECCION, t.DESCRIPCION AS TURNO, concat(p.PRIMER_NOMBRE," ",p.PRIMER_APELLIDO) as DOCENTE_GUIA
 from grupo gg inner join grado g on gg.ID_GRADO = g.ID
                        inner join modalidad m on gg.ID_MODALIDAD =  m.ID
						inner join seccion s on gg.ID_SECCION = s.ID
						inner join turno t on gg.ID_TURNO = t.ID
                        inner join personal p on gg.CEDULA_DOCENTE = p.CEDULA 
                        where 
                        year(gg.ANIO_ESCOLAR) = year (curdate() ) 
                        and m.ID = _ID_MODALIDAD
                        and g.ID = _ID_GRADO
                        and s.ID = _ID_SECCION
                        and ID_TURNO = _ID_TURNO
                        order by m.ID, t.ID,g.ID,s.Id)  then
	/*select ID AS 'MENSAJE' from grupo where ID_MODALIDAD = _ID_MODALIDAD AND ID_GRADO = _ID_GRADO AND ID_SECCION = _ID_SECCION AND ID_TURNO = _ID_TURNO ;*/
    
    select  gg.ID as 'MENSAJE'
 from grupo gg inner join grado g on gg.ID_GRADO = g.ID
                        inner join modalidad m on gg.ID_MODALIDAD =  m.ID
						inner join seccion s on gg.ID_SECCION = s.ID
						inner join turno t on gg.ID_TURNO = t.ID
                        inner join personal p on gg.CEDULA_DOCENTE = p.CEDULA 
                        where 
                        year(gg.ANIO_ESCOLAR) = year (curdate() ) 
                        and m.ID = _ID_MODALIDAD
                        and g.ID = _ID_GRADO
                        and s.ID = _ID_SECCION
                        and ID_TURNO = _ID_TURNO;
 else
	select 'No Existe un grupo con esas caracteristicas' AS 'MENSAJE';
 end if;
 
 end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Buscar_Grupo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Buscar_Grupo`(
	_ID_GRUPO INT
    
)
select g.ID  AS CODIGO, m.DESCRIPCION AS MODALIDAD,  GG.DESCRIPCION AS GRADO, S.DESCRIPCION AS SECCION, T.DESCRIPCION AS TURNO,
 concat(p.PRIMER_NOMBRE,' ', p.SEGUNDO_NOMBRE,' ', p.PRIMER_APELLIDO,' ',p.SEGUNDO_APELLIDO) as  'DOCENTE GUIA'
 from grupo g inner join grado gg on g.ID_GRADO = gg.ID
								 inner join seccion s on g.ID_SECCION = s.ID
                                 inner join turno t on g.ID_TURNO = t.ID
                                 inner join modalidad m on g.ID_MODALIDAD = m.ID
                                 inner join personal p on g.CEDULA_DOCENTE = p.CEDULA

where g.ID =_ID_GRUPO ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Buscar_Grupo_all` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Buscar_Grupo_all`(
	_ID_grupo int
)
begin
	
    select ID_GRADO,ID_SECCION,ID_TURNO,ID_MODALIDAD,CEDULA_DOCENTE from grupo WHERE ID =  _ID_grupo;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_BUSCAR_NOMBRE` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_BUSCAR_NOMBRE`(
	Usuario varchar(40)
)
begin
    SELECT concat(PRIMER_NOMBRE," " ,PRIMER_APELLIDO)  AS NOMBRE FROM PERSONAL where USSER = Usuario;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Buscar_Personal` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Buscar_Personal`(
  _cedula char(18)
)
begin
  select PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,FECHA_NACIMIENTO 
  as FECHA_NAC,SEXO,TELEFONO,DIRECCION,ID_CARGO from personal where CEDULA = _cedula ;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Cambiar_contra` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Cambiar_contra`(
	_Cedula_Personal char(18),
	_contra varchar(35)
)
begin
	update PERSONAL set CONTRA = aes_encrypt(_contra,'jabalises') where CEDULA=_Cedula_Personal;
    select 'CONTRASELA ACTUALIZDA' AS 'MENSAJE';
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Cambio` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Cambio`(
 codigo int)
begin
		update actividad a inner join plan_de_medidas p on a.ID_P_MEDIDA = p.ID set a.MEDIDA01 = (select p.PREGUNTA_01 where p.ID = codigo),a.MEDIDA02 = (select p.PREGUNTA_02 where p.ID = codigo),
	a.MEDIDA03 = (select p.PREGUNTA_03 where p.ID = codigo),a.MEDIDA04 = (select p.PREGUNTA_04 where p.ID = codigo),a.MEDIDA05 = (select p.PREGUNTA_05 where p.ID = codigo)
	where a.ID = codigo  ;
    end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Cambio02` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Cambio02`(
 codigo int)
begin
update actividad a inner join valoracion_cualitativa v on  a.ID_V_CUALITATIVA = v.ID set a.CU01 = (select v.PREGUNTA_01 where v.ID = codigo),a.CU02 = (select v.PREGUNTA_02 where v.ID = codigo),
a.CU03 = (select v.PREGUNTA_03 where v.ID = codigo),a.CU04 = (select v.PREGUNTA_04 where v.ID = codigo),a.CU05 = (select v.PREGUNTA_05 where v.ID = codigo) where a.ID = codigo ;

    end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Eliminar_Actividad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Eliminar_Actividad`(
	_ID int
)
begin
	update actividad set ESTADO = 0 where ID = _ID;
    select "Actividad eliminada correctamente" AS "MENSAJE";
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Eliminar_Asigantura` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Eliminar_Asigantura`(
	_ID int
)
begin
	update asignatura set ESTADO_A = 0 where ID = _ID;
    select "ASIGNATURA ELIMINADA CORRECTAMENTE" AS "MENSAJE";
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Eliminar_Asignatura_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Eliminar_Asignatura_Modalidad`(
_ID INT
)
begin
	if ((select ESTADO_AM from asignatura_modalidad where ID = _ID) = 0) then
		/*update asignatura_modalidad set ESTADO_AM = 0 where ID = _ID;*/
        delete from asignatura_modalidad where ID = _ID;
		SELECT "ASIGNACION A MODALIDAD ELIMINADA" AS "MENSAJE";
        else 
        SELECT "NO ES POSIBLE ELIMINAR UNA ASIGNACION ACTIVA" AS "MENSAJE";
    end if;
    end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Eliminar_Cargo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Eliminar_Cargo`(
_id_cargo int
)
begin
  update cargo set ESTADO_C = 0 where ID = _id_cargo;
  select "CARGO ELIMINADO" AS "MENSAJE";
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Eliminar_Grupo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Eliminar_Grupo`(id_grupo int)
begin
	declare docente varchar(18);
    set docente = ( select CEDULA_DOCENTE from grupo where ID =  id_grupo);
	UPDATE personal set HORAS_LABORALES = 10 where CEDULA = docente;
	delete from grupo where ID = id_grupo;
    select "Grupo eliminado" as "MENSAJE";
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Eliminar_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Eliminar_Modalidad`(
	_ID int
)
begin
	update modalidad set ESTADO_M = 0 where ID = _ID;
    select "MODALIDAD ELIMINADA DE LA BASE DE DATOS" AS "MENSAJE";
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Eliminar_Personal` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Eliminar_Personal`(
	_cedula char(18)
)
begin
	/*delete from personal where CEDULA=_cedula;*/
    UPDATE PERSONAL SET ESTADO_A=0 WHERE CEDULA= _cedula ;
	select "PERSONAL ELIMINADO DE LA BASE DE DATOS" AS "MENSAJE";
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_HORARIO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_HORARIO`(
	_ID_GRUPO int
)
begin
/*select FC_ConvertString(d.DESCRIPCION)  AS DIA,concat( bc.HORA_INICIO,' - ',bc.HORA_FIN) as BLOQUE, concat( FC_ConvertString(  a.DESCRIPCION) , " // ",concat(FC_ConvertString(p.PRIMER_NOMBRE), " ",FC_ConvertString(p.PRIMER_APELLIDO)))
 AS ASIGNATURA   
  from bloque_clase bc inner join asignatura a on bc.ID_ASIGNATURA = a.ID
 inner join dia d on bc.ID_DIA = d.ID
 inner join personal p on bc.CEDULA_DOCENTE = p.CEDULA*/
 select d.DESCRIPCION, concat( h.TimeBegin,' - ',h.TimeEnd)as BLOQUE, concat( a.DESCRIPCION ,' // ', concat( p.PRIMER_NOMBRE,' ', p.PRIMER_APELLIDO)) as ASIGNATURA from bloque_clase b 
							inner join horario_designado h on b.ID_BLOQUE = h.ID
							inner join dia d on b.ID_DIA = d.ID
                            inner join asignatura a on a.ID = b.ID_ASIGNATURA
                            inner join personal p on b.CEDULA_DOCENTE = p.CEDULA where b.ID_GRUPO = _ID_GRUPO;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Horario_Grupo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Horario_Grupo`(
	ID_grupo int
)
begin
     if exists (select ID from grupo where ID = ID_grupo) then
     SELECT gg.DESCRIPCION as GRADO,s.DESCRIPCION AS SECCION,t.DESCRIPCION AS TURNO,d.DESCRIPCION AS DIA,b.DESCRIPCION AS "NO DE BLOQUE", 
     b.TIEMPO_DESIGNADO AS "HORARIO DE BLOQUE" , a.DESCRIPCION as ASIGNATURA FROM BLOQUE_CLASE bc 					
										INNER JOIN  asignatura a on bc.ID_ASIGNATURA = a.ID
                                        INNER JOIN horario_bloque hb on bc.ID_HORARIO_BLOQUE = hb.ID
                                        INNER JOIN bloque b on hb.ID_HORARIO_DESIGNADO = b.ID
                                        INNER JOIN turno t on hb.ID_TURNO = t.ID 
                                        INNER JOIN dia d on hb.ID_DIA = d.ID 
                                        INNER JOIN grupo g on bc.ID_GRUPO = g.ID 
                                        INNER JOIN seccion s on g.ID_SECCION = s.ID	
										INNER JOIN grado gg on g.ID_GRADO = gg.ID	where g.ID=  ID_grupo
										order by hb.id;  /*Se ordena por el id del bloque de clase*/ 
     
     else
      select "EL GRUPO NO SE ENCUENTRA EN LA BASE DE DATOS" as  "MENSAJE";
     end if;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Actividad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Actividad`(
	_cedula char(18),
    descripcion_actividad text,
    protagonista_ac text,
    meta_a int,
    meta_t int,
    part_f int,
    part_m int,
     /*preguntas de valoracion cualitativa*/
    v_cualitatia01 text,
    v_cualitatia02 text,
    v_cualitatia03 text,
    v_cualitatia04 text,
    v_cualitatia05 text,
    dificultades_ac text,
    /*preguntas de plan de medida*/
	p_medida_pregunta01 text,
    p_medida_pregunta02 text,
    p_medida_pregunta03 text,
    p_medida_pregunta04 text,
    p_medida_pregunta05 text,
    alertas_ac text,
    propuesta_ac text,
    observacion_ac text
)
begin
	/*Declarando variables de codigo*/
    DECLARE part_total INT;
    declare id_medida int;
    declare id_cualitativa int;
    /*Convirtiendo todo a mayusculas*/
    set descripcion_actividad = upper(descripcion_actividad);
    set protagonista_ac= upper(protagonista_ac);
    set v_cualitatia01= upper(v_cualitatia01);
    set v_cualitatia02= upper(v_cualitatia02);
    set v_cualitatia03= upper(v_cualitatia03);
    set v_cualitatia04 = upper(v_cualitatia04);
    set v_cualitatia05 = upper(v_cualitatia05);
    set dificultades_ac =  upper(dificultades_ac);
	set p_medida_pregunta01= upper(p_medida_pregunta01) ;
    set p_medida_pregunta02 =  upper(p_medida_pregunta02);
    set p_medida_pregunta03 = upper(p_medida_pregunta03);
    set p_medida_pregunta04 = upper(p_medida_pregunta04);
    set p_medida_pregunta05= upper(p_medida_pregunta05);
    set alertas_ac = upper(alertas_ac) ;
    set observacion_ac = upper(observacion_ac);
    set alertas_ac = upper(alertas_ac);
    SET part_total = part_f+ part_M;
    
    if (part_total > meta_t) then
		select "La suma de los participantes no puede ser mayor que la meta establecida" AS "MENSAJE";
	elseif (meta_t > meta_a) then
		select "La meta trimestral no puede ser mayor que la meta anual" AS "MENSAJE";
	ELSE
		
        
insert into actividad (DESCRIPCION,PROTAGONISTA,META_ANUAL,METRA_TRIMESTRAL,PARTICIPANTES_F,PARTICIPANTES_M,DIFICULTADES,ALERTAS,PROPUESTA,OBSERVACION,ESTADO,CEDULA_PERSONAL,FECHA_REGISTRO,MEDIDA01,
			MEDIDA02,MEDIDA03,MEDIDA04,MEDIDA05,CU01,CU02,CU03,CU04,CU05)

values(descripcion_actividad,protagonista_ac,meta_a,meta_t,part_f,part_m,dificultades_ac,alertas_ac,propuesta_ac,observacion_ac,1,_cedula,curdate(),p_medida_pregunta01,p_medida_pregunta02,p_medida_pregunta03,p_medida_pregunta04,
            p_medida_pregunta05,v_cualitatia01,v_cualitatia02,v_cualitatia03,v_cualitatia04,v_cualitatia05);
			SELECT "Actividad registrada correctamente" AS "MENSAJE";
    
    
    
			
        
        
    end if;
 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Asigantura` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Asigantura`(
	_Desripcion varchar(45)
)
begin
	if (not exists (select DESCRIPCION from asignatura where STRCMP(DESCRIPCION,_Desripcion)  = 0) ) then
			INSERT INTO asignatura (DESCRIPCION,ESTADO) VALUES (upper(_Desripcion),0);
    select 'LA ASIGNATURA HA SIDO REGISTRADA CORRECTAMENTE' AS 'MENSAJE';
    else
			select 'LA ASIGNATURA YA EXISTE EN LA BASE DE DATOS' AS 'MENSAJE';
	end if; 
  
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Asigantura_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Asigantura_Modalidad`(
	_ID_ASIGNATURA int,
    _ID_MODLIDAD int
)
begin
	if   ( (not exists (select ID from asignatura_modalidad WHERE (ID_ASIGNATURA = _ID_ASIGNATURA and ID_MODALIDAD=_ID_MODLIDAD)) )) then
			INSERT INTO asignatura_modalidad (ID_ASIGNATURA,ID_MODALIDAD) values(_ID_ASIGNATURA,_ID_MODLIDAD);
    select 'LA ASIGNATURA HA SIDO ASIGNADA A UN MODALIDAD CORRECTAMENTE' AS 'MENSAJE';
    else
			select 'LA ASIGNATURA YA SE ENCUENTRA ASIGNADA A ESA MODALIDAD' AS 'MENSAJE';
	end if; 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Cargo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Cargo`(
	_cargo varchar(30)
)
begin
	set _cargo = ltrim(rtrim(_cargo));
	if (not exists (select DESCRIPCION from CARGO where DESCRIPCION = _cargo  )) then
			insert into cargo(DESCRIPCION,ESTADO,ESTADO_C) VALUES (upper(_cargo) ,0,1);
    select 'EL CARGO ACAD√âMICO HA SIDO REGISTRADO EN LA BASE DE DATOS' AS 'MENSAJE';
    else
			select 'EL CARGO ACAD√âMICO YA EXISTE EN LA BASE DE DATOS' AS 'MENSAJE';
	end if; 
  
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Grupo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Grupo`(
	_id_grado int,
    _id_seccion int,
    _id_turno int,
    _id_modalidad int,
    _cedula_docente char(18)
)
begin
	declare id_grupo int;
            if exists (select ID from grupo where ID_GRADO = _id_grado and ID_SECCION=_id_seccion and  ID_TURNO=_id_turno and ID_MODALIDAD=_id_modalidad AND year(ANIO_ESCOLAR) = year(curdate()))  then
					set id_grupo = (select ID from grupo where ID_GRADO = _id_grado and ID_SECCION=_id_seccion and  ID_TURNO=_id_turno and ID_MODALIDAD=_id_modalidad AND year(ANIO_ESCOLAR) = year(curdate()));
				 
						select 'Este grupo ya existe y esta asignado a otro Docente' as 'MENSAJE';
				else
                set id_grupo = FC_Insertar_Grupo(_id_grado,_id_seccion,_id_turno,_id_modalidad,_cedula_docente);
					
                    if (_id_modalidad = 4 ) then
						if (_id_turno = 1) then
                        	call SP_Insertar_Horario_Primaria_Regular_Matutino (id_grupo,_cedula_docente,_id_modalidad,_id_turno);
						else
							call SP_Insertar_Horario_Primaria_Regular_Vespertino (id_grupo,_cedula_docente,_id_modalidad,_id_turno);
						end if;
						select 'Grupo creado con exito' as 'MENSAJE';
                    end if;
            end if;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Horario_Primaria_Regular_Matutino` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Horario_Primaria_Regular_Matutino`(
	_id_grupo int,
    _cedula_docente char(18),
    _ID_MODALIDAD INT,
    _ID_TURNO INT
)
begin
		declare total_bloque , NoBloque, d,ID_BLOQUE , DIA int;
        set NoBloque = 1;
        set d = 1;
        SET DIA = 1;
        set total_bloque = ( select count( *) from horario_designado where ID_Modalidad = _ID_MODALIDAD and ID_Turno =  _ID_TURNO);   
        loop_dia : LOOP
			IF d  > 5 then
				leave loop_dia;
			end if;
				 loop_bloque : LOOP
					IF NoBloque  > total_bloque then
						leave loop_bloque;
					end if;
					set ID_BLOQUE =  (select   ID  from horario_designado where ID_Modalidad = _ID_MODALIDAD and ID_Turno = _ID_TURNO and  No_Bloque = NoBloque);   
					INSERT INTO bloque_clase (ID_GRUPO,ID_ASIGNATURA,ID_DIA,CEDULA_DOCENTE,ESTADO,ID_BLOQUE)
					VALUES	(_id_grupo,31,d,_cedula_docente, 1, ID_BLOQUE);
					set NoBloque = NoBloque + 1;
				end LOOP;
                set NoBloque = 1;
			set d = d +1;
        end LOOP;
		UPDATE personal set HORAS_LABORALES = 40 where CEDULA = _cedula_docente;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Horario_Primaria_Regular_Vespertino` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Horario_Primaria_Regular_Vespertino`(
	_id_grupo int,
    _cedula_docente char(18),
    _ID_MODALIDAD INT,
    _ID_TURNO INT
)
begin
		declare total_bloque , NoBloque, d,ID_BLOQUE , DIA int;
        set NoBloque = 1;
        set d = 1;
        SET DIA = 1;
        set total_bloque = ( select count( *) from horario_designado where ID_Modalidad = _ID_MODALIDAD and ID_Turno =  _ID_TURNO);   
        loop_dia : LOOP
			IF d  > 5 then
				leave loop_dia;
			end if;
				 loop_bloque : LOOP
					IF NoBloque  > total_bloque then
						leave loop_bloque;
					end if;
					set ID_BLOQUE =  (select   ID  from horario_designado where ID_Modalidad = _ID_MODALIDAD and ID_Turno = _ID_TURNO and  No_Bloque = NoBloque);   
					INSERT INTO bloque_clase (ID_GRUPO,ID_ASIGNATURA,ID_DIA,CEDULA_DOCENTE,ESTADO,ID_BLOQUE)
					VALUES	(_id_grupo,31,d,_cedula_docente, 1, ID_BLOQUE);
					set NoBloque = NoBloque + 1;
				end LOOP;
                set NoBloque = 1;
			set d = d +1;
        end LOOP;
        	

end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Modalidad`(
	_Descripcion varchar(45)
)
begin
	set _Descripcion = upper(ltrim(rtrim(_Descripcion)));
	if (not exists (select DESCRIPCION from modalidad where DESCRIPCION = _Descripcion )) then
			INSERT INTO modalidad (DESCRIPCION,ESTADO,ESTADO_M) VALUES (_Descripcion,0,1);
    select 'LA MODALIDAD HA SIDO REGISTRADA CORRECTAMENTE' AS 'MENSAJE';
    else
		select 'LA ASIGNATURA YA EXISTE EN LA BASE DE DATOS' AS 'MENSAJE';
	end if; 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Personal` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Personal`(
	_Cedula_Personal char(18),
	_Primer_Nombre varchar(35),
	_Segundo_Nombre varchar(35),
	_Primer_Apellido varchar(35),
	_Segundo_Apellido varchar(35),
    _Fecha_Nacimiento date,
	_Sexo int,
	_Telefono char(8),
    _Direccion varchar(2000),
    _cargo int
)
begin
	/*INICIALIZANDO ALGUNAS VARIABLES*/
		DECLARE _Usser varchar(20);
		 DECLARE _Horas int;
         declare _estado bit;
         declare _s char(1);
         if(_Sexo = 1) then
			 set _s="F";
		 else
			set _s="M";
			end if;
         set _Horas = 10;
         set _Usser = lower(CONCAT(_Primer_Nombre , "123"));
         set _estado = 0;
	if (not exists (select CEDULA from PERSONAL where STRCMP(CEDULA,_Cedula_Personal)  = 0) ) then
			insert into PERSONAL(CEDULA,PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,FECHA_NACIMIENTO,SEXO,TELEFONO,DIRECCION,HORAS_LABORALES,USSER,CONTRA,ESTADO,ID_CARGO,FECHA_REGISTRO) 
			values (upper(_Cedula_Personal),upper(_Primer_Nombre),upper(_Segundo_Nombre),upper(_Primer_Apellido),upper(_Segundo_Apellido),_Fecha_Nacimiento,upper(_s),_Telefono,upper(_Direccion),_Horas,_Usser, aes_encrypt('temporal','jabalises'),_estado,_cargo,curdate());
			update cargo set ESTADO = 1 where ID = _cargo;
    select 'EL PERSONAL HA SIDO REGISTRADO EN LA BASE DE DATOS' AS 'MENSAJE';
    else
			select 'EL PERSONAL YA EXISTE EN LA BASE DE DATOS' AS 'MENSAJE';
	end if; 
  
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Insertar_Turno_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Insertar_Turno_Modalidad`(
	_ID_TURNO int,
    _ID_MODALIDAD int
)
begin
	if   ( (not exists (select ID from modalidad_turno WHERE (ID_MODALIDAD = _ID_MODALIDAD and ID_TURNO=_ID_TURNO)) )) then
			INSERT INTO modalidad_turno (ID_TURNO,ID_MODALIDAD) values(_ID_TURNO,_ID_MODALIDAD);
    select 'EL TURNO ASIGNADO EXITOSAMENTE' AS 'MENSAJE';
    else
			select 'ESTE TURNO YA SE ENCUENTRA ASIGNADO A ESTA MODALIDAD' AS 'MENSAJE';
	end if; 
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_LOGIN` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_LOGIN`(
	Usuario varchar(40),
    Contras varchar(40)
)
begin
     if exists (select USSER from personal where USSER = Usuario) then
		if ((select convert (aes_decrypt(CONTRA,'jabalises') using utf8) as CONTRA from personal where USSER = Usuario) = Contras) then
			select "ACCESO EXITOSO" as "MENSAJE",concat(p.PRIMER_NOMBRE,' ',p.PRIMER_APELLIDO) as "NOMBRE", c.DESCRIPCION as"CARGO",p.CEDULA as "CEDULA" from personal
            p inner join cargo c ON p.ID_CARGO = c.ID
            where USSER = Usuario;
		else
			select "CONTRASE√ëA INCORRECTA" as "MENSAJE";
		end if;
     else
      select "EL USUARIO NO EXISTE" as  "MENSAJE";
     end if;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Actividad01` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Actividad01`(
	
)
begin
/*	select ID as CODIGO, DESCRIPCION from actividad ORDER BY ID;*/
select ID as CODIGO, DESCRIPCION, PROTAGONISTA, META_ANUAL,METRA_TRIMESTRAL,PARTICIPANTES_F,PARTICIPANTES_M ,
(PARTICIPANTES_F +PARTICIPANTES_M) as TOTAL_PARTICIPANTES,(((PARTICIPANTES_F +PARTICIPANTES_M) * 100)/ METRA_TRIMESTRAL) as META_TRIMESTRAL,
(((PARTICIPANTES_F +PARTICIPANTES_M) * 100)/ META_ANUAL) as META_ANUAL,CU01,CU02,CU03,CU04,CU05,MEDIDA01,MEDIDA02,MEDIDA03,MEDIDA04,MEDIDA05,DIFICULTADES
,ALERTAS,PROPUESTA,OBSERVACION from actividad where ESTADO = 1;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Actividad02` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Actividad02`(
	
)
begin
	select ID as CODIGO, PROTAGONISTA from actividad ORDER BY ID;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Actividad03` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Actividad03`(
	
)
begin
	select ID as CODIGO,META_ANUAL,METRA_TRIMESTRAL,PARTICIPANTES_F,PARTICIPANTES_M ,
(PARTICIPANTES_F +PARTICIPANTES_M) as TOTAL_PARTICIPANTES, concat( round((((PARTICIPANTES_F +PARTICIPANTES_M) * 100)/ METRA_TRIMESTRAL),2)," ","%")   as META_TRIMESTRAL,
 concat( round((((PARTICIPANTES_F +PARTICIPANTES_M) * 100)/ META_ANUAL) ,2)," ","%") as META_ANUAL from actividad ORDER BY ID;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Actividad04` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Actividad04`(
	
)
begin
select a.ID, v.PREGUNTA_01, v.PREGUNTA_02, v.PREGUNTA_03,v.PREGUNTA_04, 
v.PREGUNTA_05 from actividad a inner join valoracion_cualitativa v on a.ID_V_CUALITATIVA = v.ID ;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Actividad05` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Actividad05`(
	
)
begin
select a.ID, p.PREGUNTA_01, p.PREGUNTA_02, p.PREGUNTA_03,p.PREGUNTA_04, 
p.PREGUNTA_05 from actividad a inner join plan_de_medidas p on a.ID_P_MEDIDA = p.ID ;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Actividad06` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Actividad06`(
	
)
begin
select a.ID, DIFICULTADES,ALERTAS,PROPUESTA,OBSERVACION
from actividad a inner join plan_de_medidas p on a.ID_P_MEDIDA = p.ID ;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Actividad_Total` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Actividad_Total`(
	
)
begin
	select a.ID as CODIGO, a.DESCRIPCION, a.PROTAGONISTA, a.META_ANUAL,a.METRA_TRIMESTRAL,a.PARTICIPANTES_F,a.PARTICIPANTES_M ,
(a.PARTICIPANTES_F +a.PARTICIPANTES_M) as TOTAL_PARTICIPANTES, concat( round((((a.PARTICIPANTES_F +a.PARTICIPANTES_M) * 100)/ a.METRA_TRIMESTRAL),2)," ","%")   as META_TRIMESTRAL,
 concat( round((((a.PARTICIPANTES_F +a.PARTICIPANTES_M) * 100)/ a.META_ANUAL) ,2)," ","%") as META_ANUAL,v.PREGUNTA_01, v.PREGUNTA_02, v.PREGUNTA_03,v.PREGUNTA_04, 
v.PREGUNTA_05, p.PREGUNTA_01, p.PREGUNTA_02, p.PREGUNTA_03,p.PREGUNTA_04, 
p.PREGUNTA_05, a.DIFICULTADES, a.ALERTAS , a.PROPUESTA, a.OBSERVACION
 from actividad a
 inner join valoracion_cualitativa v on a.ID_V_CUALITATIVA = v.ID
 inner join plan_de_medidas p on a.ID_P_MEDIDA = p.ID
where a.ESTADO = 1
 ORDER BY a.ID;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_MOSTRAR_ASIGANTURA_HORARIO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_MOSTRAR_ASIGANTURA_HORARIO`(
	_ID_GRUPO INT,
    _ID_DIA INT
)
select   a.DESCRIPCION as ASIGNATURA
  from modalidad_bloque mb inner join modalidad m on mb.ID_MODALIDAD = m.ID
								  inner join bloque b on mb.ID_BLOQUE = b.ID
                                  inner join turno t on b.ID_TURNO = t.ID 
                                  inner join horario_bloque hb on hb.ID_BLOQUE = b.ID 
                                  inner join dia d on d.ID = hb.ID_DIA 
                                  inner join bloque_clase bc on bc.ID_HORARIO_BLOQUE = hb.ID
                                  inner join asignatura a on a.ID = bc.ID_ASIGNATURA
                                  inner join grupo g on bc.ID_GRUPO = g.ID 
                                  inner join grado gg on g.ID_GRADO = gg.ID 
                                  inner join personal p on bc.CEDULA_DOCENTE = p.CEDULA where bc.CEDULA_DOCENTE = p.CEDULA
                                  and g.ID = _ID_GRUPO  and d.ID = _ID_DIA
                                  order by g.ID ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Asignatura` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Asignatura`(
)
begin
	select ID,DESCRIPCION AS ASIGNATURA, if(ESTADO =1,'ACTIVO','NO ACTIVO') AS ESTADO from asignatura 
    WHERE ESTADO_A = 1
    ORDER BY DESCRIPCION;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Asignatura_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Asignatura_Modalidad`(
)
begin
	SELECT  am.ID as CODIGO,  a.DESCRIPCION as ASIGNATURA, m.DESCRIPCION as MODALIDAD, if(am.ESTADO_AM = 1,'ACTIVO','INACTIVO')  AS ESTADO FROM ASIGNATURA a inner join asignatura_modalidad am on a.ID = am.ID_ASIGNATURA
								inner join modalidad m on am.ID_MODALIDAD = m.ID
                                WHERE ESTADO_M = 1
                                ORDER BY a.DESCRIPCION;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Asignatura_SModalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Asignatura_SModalidad`(
 _ID_MODALIDAD INT
)
begin
	select a.ID,DESCRIPCION AS ASIGNATURA, if(ESTADO =1,'ACTIVO','NO ACTIVO') AS ESTADO from asignatura a
    inner join asignatura_modalidad am on a.ID = am.ID_ASIGNATURA
    WHERE ESTADO_A = 1 and am.ID_MODALIDAD =  _ID_MODALIDAD
    ORDER BY DESCRIPCION;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Bloque_Horario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Bloque_Horario`(
	_ID_GRUPO int
)
select   b.DESCRIPCION as BLOQUE, b.TIEMPO_DESIGNADO
  from modalidad_bloque mb inner join modalidad m on mb.ID_MODALIDAD = m.ID
								  inner join bloque b on mb.ID_BLOQUE = b.ID
                                  inner join turno t on b.ID_TURNO = t.ID 
                                  inner join horario_bloque hb on hb.ID_BLOQUE = b.ID 
                                  inner join dia d on d.ID = hb.ID_DIA 
                                  inner join bloque_clase bc on bc.ID_HORARIO_BLOQUE = hb.ID
                                  inner join asignatura a on a.ID = bc.ID_ASIGNATURA
                                  inner join grupo g on bc.ID_GRUPO = g.ID 
                                  inner join grado gg on g.ID_GRADO = gg.ID 
                                  inner join personal p on bc.CEDULA_DOCENTE = p.CEDULA where bc.CEDULA_DOCENTE = p.CEDULA and g.ID  = _ID_GRUPO
								  group by b.ID
                                  order by g.ID desc ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Cargo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Cargo`(
)
begin
  select ID,DESCRIPCION from cargo WHERE ESTADO_C = 1;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Cargo_Lista` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Cargo_Lista`(
)
begin
	select ID, DESCRIPCION, (if(ESTADO = 1,"ACTIVO","NO ACTIVO")) AS ESTADO from cargo
    WHERE ESTADO_C = 1;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Docentes` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Docentes`(
  
)
begin
    /*  select p.CEDULA as cedula ,concat(p.PRIMER_NOMBRE," ",p.SEGUNDO_NOMBRE," ",p.PRIMER_APELLIDO," ",p.SEGUNDO_APELLIDO) as 
    NOMBRE, g.ID from grupo g inner join personal p on g.CEDULA_DOCENTE = p.CEDULA 
    where    year(g.ANIO_ESCOLAR) != year (curdate()) AND (not exists ( select ID  from grupo where  CEDULA_DOCENTE =cedula and  year(ANIO_ESCOLAR) = year (curdate()) ) )
    and ID_CARGO = 1   order by NOMBRE; */
    
   select p.CEDULA as cedula ,concat(p.PRIMER_NOMBRE," ",p.SEGUNDO_NOMBRE," ",p.PRIMER_APELLIDO," ",p.SEGUNDO_APELLIDO) as 
    NOMBRE from personal p  left  join  grupo g  on g.CEDULA_DOCENTE = p.CEDULA where   g.CEDULA_DOCENTE  is null 
    or (not exists ( select ID  from grupo where  CEDULA_DOCENTE =cedula and  year(ANIO_ESCOLAR) = year (curdate()) ) )
     and ID_CARGO = 1   order by NOMBRE;
    
   
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Grado` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Grado`(
	_ID_MODALIDAD int
)
begin
 select g.ID, g.DESCRIPCION as GRADO from grado g inner join modalidad_grado mg on g.ID = mg.ID_GRADO
					  inner join modalidad m on mg.ID_MODALIDAD = m.ID where m.ID= _ID_MODALIDAD;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Grados02` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Grados02`(
)
begin
	select ID, DESCRIPCION from grado ORDER BY ID;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Grupos` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Grupos`(
)
begin
 select  gg.ID as CODIGO_GRUPO,m.DESCRIPCION as  MODALIDAD, g.DESCRIPCION AS GRADO,
 s.DESCRIPCION AS SECCION, t.DESCRIPCION AS TURNO, concat(p.PRIMER_NOMBRE," ",p.PRIMER_APELLIDO) as DOCENTE_GUIA
 from grupo gg inner join grado g on gg.ID_GRADO = g.ID
                        inner join modalidad m on gg.ID_MODALIDAD =  m.ID
						inner join seccion s on gg.ID_SECCION = s.ID
						inner join turno t on gg.ID_TURNO = t.ID
                        inner join personal p on gg.CEDULA_DOCENTE = p.CEDULA where year(gg.ANIO_ESCOLAR) = year (curdate()) 
                        order by m.ID, t.ID,g.ID,s.Id; 
                        
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Modalidades` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Modalidades`(
)
begin
  select ID, DESCRIPCION, if(ESTADO=1,'ACITVO','NO ACTIVO') AS ESTADO from modalidad where ESTADO_M = 1
  ORDER BY DESCRIPCION;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Modalidad_Grado` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Modalidad_Grado`()
begin
		select mg.ID,  m.DESCRIPCION as MODALIDAD ,g.DESCRIPCION  AS GRADO from modalidad_grado mg inner join grado g on mg.ID_GRADO = g.ID
								 inner join modalidad m on mg.ID_MODALIDAD =  m.ID order by m.DESCRIPCION ;
    end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Personal` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Personal`(
  
)
begin
    select CEDULA,concat(PRIMER_NOMBRE," ",SEGUNDO_NOMBRE," ",PRIMER_APELLIDO," ",SEGUNDO_APELLIDO) as NOMBRE, 
    year(curdate())-year(FECHA_NACIMIENTO) as EDAD , IF(SEXO='F','FEMENINO','MASCULINO') AS SEXO,TELEFONO,DIRECCION,c.DESCRIPCION AS CARGO
    from personal p INNER JOIN CARGO c on p.ID_CARGO = c.ID
    
    where ESTADO_A = 1 order by NOMBRE ;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Seccion` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Seccion`(
)
begin
	select ID,DESCRIPCION from seccion;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Turno` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Turno`(
)
begin
	SELECT ID, DESCRIPCION   FROM turno order by DESCRIPCION;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Turno02` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Turno02`(
	_ID_MODALIDAD int
)
begin
 select t.ID as ID, t.DESCRIPCION as TURNO from modalidad_turno mt inner join modalidad m on mt.ID_MODALIDAD = m.ID
								     inner join turno t on mt.ID_TURNO = t.ID where mt.ID_MODALIDAD = _ID_MODALIDAD ;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Turno03` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Turno03`(
)
begin
	select ID, DESCRIPCION, HORARIO from turno order by ID;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Turno_Modalidad` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Turno_Modalidad`(
	
)
begin
select mt.ID as CODIGO, m.DESCRIPCION as MODALIDAD,  t.DESCRIPCION as TURNO  from modalidad_turno mt inner join modalidad m on mt.ID_MODALIDAD = m.ID
								     inner join turno t on mt.ID_TURNO = t.ID order by  m.DESCRIPCION;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Mostrar_Usuario_Contra` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Mostrar_Usuario_Contra`(

)
begin
select CEDULA, concat(PRIMER_NOMBRE," ",SEGUNDO_NOMBRE," ",PRIMER_APELLIDO," ",SEGUNDO_APELLIDO) as NOMBRE
 ,  USSER , CONTRA from personal;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_Prueba` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_Prueba`(
 _numero int
)
begin
	insert into prueba (numero) values (_numero);
   SELECT LAST_INSERT_ID();
    
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-06-06  5:02:33
